
# ANS-C00
> AWS Certified Advanced Networking Specialty

- 하이브리드 클라우드의 DNS용 : https://www.youtube.com/watch?v=_Z5jAs2gvPA
- Transit Gateway : https://www.youtube.com/watch?v=9Nikqn_02Oc

- [Amazon ANS-C00 examtopics](https://www.examtopics.com/exams/amazon/ans-c00/)

- [Subnet Mask Cheat Sheet](https://www.aelius.com/njh/subnet_sheet.html)
    - 서브넷마스크 치트시트

- [blog-AWS Certified Advanced Networking – Speciality (ANS-C00) Exam Learning Path](https://jayendrapatil.com/aws-certified-advanced-networking-speciality-ans-c00-exam-learning-path/)
    - [AWS Networking & Content Delivery Services Cheat Sheet](https://jayendrapatil.com/aws-certification-networking-services-cheat-sheet/)
    - [AWS Certification – Security & Identity Services – Cheat Sheet](https://jayendrapatil.com/aws-certification-security-identity-services-cheat-sheet/)

- [Amazon CloudFront Quick Reference Card](http://awsdocs.s3.amazonaws.com/CF/20130512/cf-qrc-20130512.pdf)

- [The Open Guide to Amazon Web Services](https://github.com/open-guides/og-aws#aws-data-transfer-costs)

- [AD 커넥터를 사용하여 온프레미스 Active Directory를 AWS에 연결하는 방법](https://aws.amazon.com/ko/blogs/security/how-to-connect-your-on-premises-active-directory-to-aws-using-ad-connector/)



---

## INDEX
- LECTURE
    - Section3 : Amazon VPC fundamentals
    - [Section4 : Additional VPC Features](#section4)
    - [Section5 : VPC and DHCP](#section5)
    - [Section6 : Network Performance and Optimization](#section6)
    - [Section7 : VPC Connectivity - VPC Peering](#section7)
    - [Section8 : VPC Connectivity - Transit Gateway](#section8)
    - [Section9 : VPC Endpoints - VPC Gateway Endpoint](#section9)
    - [Section10 : VPC Interface endpoint and PrivateLink](#section10)
    - [Section11 : Hybrid Network basics](#section11)
    - Section12 : AWS Site-to-Site VPN
    - Section13 : AWS Clint VPN
    - [Section14 : AWS Direct Connect](#section14)
    - Section15 : AWS CloudFront
    - Section16 : Elastic Load Balancers
    - Section17 : Route 53
    - Section18 : AWS Network Security Services
    - Section19 : Gateway Load Balancers
- [EXAMTOPICS](#examtopics)

### 

---

### section4
- Extending VPC Address space
    - 다중 CIDR 허용
    - CIDR은 중복되면안되며, 커서는 안된다
    - Non RFC1918
        - 100.64.0.0/16
    - RFC1918 의 IP주소범위가 중복되면안된다
        - 192.168.0.0/16
        - 172.16.0.0/12
        - 10.0.0.0/8
    - 10.0.0.0/16, 10.2.0.0/16 enable
    - case
        - VPC CIDR 10.0.0.0/16, 10.2.0.0/16
        - subnet 10.0.0.0/17, 10.2.0.0/17
- ENI
    - elasticIP 1개당 ENI 1개랑 매칭된다.
    - EC2 인스턴스 유형에 따라 여러개의 ENI를 사용할수있다
    - 각각의 ENI는 여러개의 private IP를 가질 수 있다
    - EC2 하나로 multi based(public, private) subnet 사용이 가능하다
    - ENI를 여러개 쓴다고해서, network bendwith가 배수로 올라가지않는다
    - ENI의 scope는 AZ이기때문에, 다른AZ에서 사용할수없다
    - ENI는 attach가 가능하지만, primary를 dettach 할순없다
    - etho0가 primary이고, secondary부터 eth1로 붙는다
    - 인스턴스에서 ip address li 로 보유중인 ip를 검색할 수 있다
    - AWS 서비스 별로 자동생성되거나 적용되는 managed ENI가 있다
- BYOIP
    - Bring Your Own IP
    - why
        - keey ip reputation
        - move application without change
        - keep whitelist
        - AWS as a hot stanby
    - ROA
        - ASNS 16509 ~ 14618
    - ipv4
        - /24, /25 enable
        - /22, /23 unable
    - RIR
        - ARIN
        - RIPE
        - APNIC 
- VPC Traffic Monitoring
    - case
        - VPC Flow logs
        - Subnet Flow logs
        - ENI Flow logs
    - how
        - cloudwatch logs insight
    - why
        - 트러블슈팅
        - 연결이슈
        - 모니터링
    - Action
        - allow와 reject를 확인가능 (원인은 SG 또는 NACL)
    - stored in s3, cloutwatch logs
    - AWS Managed Inteface 는 ???
- VPC Traffic Mirroring
    - realtime
    - ENI (Session or Target)
    - 특정 트래픽을 대상으로 하기때문에, 전체 트래픽이 아님
    - 인바운드와 아웃바운드 각각에 대해 가능하다
    - different account enable, diffrent VPC enable
    - VXLAN
    - case
        - 1\. EC2
        - 2\. NLB
            - each traffic analyizer
            - allowed UDP 4789
    
### section5
- scenario
    - Private DNS Resolution
    - Hybrid DNS Resolution
        - bi-directional (On-Premise <-> AWS)
            - 1\. SimpleAD
            - 2\. EC2 - DNS Resolver 
            - 3\. Route53 Resolver Endpoints
- DHCP Option Set
    - 1\. create hosted zone
    - 2\. A Recode Created
    - *** VPC per only 1, not zero, can't changed
- VPC DNS Server = AWSProviderDNS (only 1)
- Option (Requird)
    - enableDNSSupport
    - enableDNSHostname
- 169.254.169.253=DNS Server
```sh
# EC2 Auto created and changed
/etc/resolv.conf
# manually DHCP Renewal
sudo dhclient -r eth0
```


### section6
- Network Performance and Optimization
    - AWS 내에서는 JumboFrame이 9001 MTU 가 default이다
    - AWS 리소스간, 온프레미스에 대해, 인터넷에 대해서 최대지원이 다르다
        - Over the Internet : 1500
        - VPC 내부 : 9001
        - 리전 내 VPC Peering : 9001
        - 리전 간 VPC Peering : 1500
        - VPC Endpoint : 8500
        - VPN Via VGW : 1500
        - DX : 9001
        - DX Via TGW : 8500
        - VPN Via TGW : 1500
    - MTU가 1500을 넘으면, dropped되거나 fragment 될 수 있다
    - 인스턴스 타입에 따라 점보프레임 지원여부가 다를 수 있다
    - 점보프레임은 ENI Level에서 설정할 수 있다
        ```sh
        ### 점보프레임 사용여부 확인
        tracepath amazon.com

        ### 점보프레임 확인
        ip link show eth0

        ### 점보프레임 설정
        sudo ip link set dev eth0 MTU 9001
        ```
- basic of network performance
    - Bandwidth - 전송되는 최대양
    - latency - 네트워크가 연결되는 두 지점사이에 통신지연
        - 네트워크 장비(Hop)을 통과하면서 발생하는 딜레이를 포함
    - jiter - 지터는 패킷 간의 지연 차이입니다. 지연을 보다 일관되게 만들어 지터를 줄일 수 있습니다.
        - packet delay variation
        - 예를들면 패킷도달에 대한 지연시간이 일정하게 1ms여야하는대, 지연값이 달라질 떄
        - 예를들면 패킷의 지연이 2밀리초에서 120밀리초 사이인경우
    - PPS (Packet Per Seconed) : 
    - Interface MTU : 물리적인 인터페이스에서 지원하는 MTU
    - Path MTU : 출발지 - 목적지 사이 인터페이스의 최소 MTU 
        - 최대 1500 Byte
    - Jumbo Frame : 1500 byte이상 최대 9000 byte
        - 패킷을 덜 보내고, 쓰루풋이 증가하고, 낮은 PPS로 전송량을 만족시킬 수 있다
    - Path MTU Discovery
        - 통신하는 host간에 fragmentation이나 packet drop을 피하기위한 메커니즘
        - 1. Interface MTU가 Path MTU와 동일하다고 가정하고 flag를 1로 설정(DF마킹=don't fragment)
        - 2. MTU 1500 를 전송해서 Router가 지원하면 통과
        - 3. 다음 Router가 MTU를 지원못하고 1000 Byte가 한계인경우 통과할 수 없음
        - 4. flags가 1이기떄문에, ICMP 프로토콜을 통해 MTU를 1000으로 변경회신
        - 5. MTU 1000 으로 전송시작
        - *** ICMP must be enabled
    - PlacementGroups
        - HPC를 목적으로 논리적으로 동일AZ, 동일 RACK으로 EC2를 묶는다.
        - 10GBPS의 네트워크를 지원한다
    - EBS Optimized EC2 instances
        - EBS는 네트워크 드라이브이기떄문에, EC2에서 I/O가 발생할 때 Network 통신을한다.
        - 일반적인 EC2 인스턴스는 외부통신과 EBS I/O에 대해서 단일 I/F로 통신하기때문에 대역폭 문제가 생길 수 있다.
        - EBS 최적화 EC2인스턴스는 EBS I/O 처리를 별도의 I/F로 한다.
- Enhanced Networking
    - 1M PPS를 넘어고, 적은 지연, ENA를 사용하는 것
    - 인스턴스와 하이퍼바이저 간의 패킷프로세싱의 오버헤드를 감소
    - option1 : intel 82599 VF IF(=intel ixgbevf) 
        - Instance <-> NIC <-> byPassing Virtual Layer
    - option2 : ENA (Elastic Network Adapter)
        - Instance <-> ENA <-> byPassing Virtual Layer
    - 명령어 : 드라이버 확인하기
        ```sh
        ### 드라이버 확인하기
        ethtool -i eth0
        ```
    - Multifle Flow 일경우, 최대100G
    - Single Flow 일경우, Placement group 내이면 최대10G
    - Single Flow 일경우, 그 외 최대5G
    
- DPDK
    - Intel The Data Plane Development Kit
    - DPDK는 운영 체제에서 네트워킹 오버헤드를 줄이는 데 사용되는 라이브러리 및 도구 세트입니다.
    - OS내부에서 kernelByPass로 패킷 프로세싱의 오버헤드를 감소시킨다
- EFA
    - Elastic Fabric Adapter
    - ENA의 특별한 유형으로, 리눅스만 지원
- network I/O Credit
    - 네트워크 크레딧이 누적된다
- bandwidth
    - MAX Bandwidth는 Single Flow가 아니며 Multifle Flow이다
    - SingleFlow는 Placement group 내에서는 최대 10G, 그 외에는 5G까지 가능하다
    - IGW : No Limit
    - VPC : No Limit
    - VPC Peering : No limit
    - NAT Gateway : 45 Gbps (여러개 쓸경우 스케일업 가능)
    - TransitGW : 최대 50Gbps
        - VPN Connection 당 1.25Gbps
    - VPNGateway
        - Site-to-SiteVPN 역시 1.25Gbps
        - DX는 DX port당 적용
    - EC2
        - Intance Family Type, Enhanced Networking 에 영향
        - 32vcpu 미만이거나 제너레이션 타입이 아닌경우, 인터넷을 통하거나 다른 Region간의 대역폭은 최대 5G이다
- SR-IOV, PCI

- quiz
- 향상된 네트워킹은 지터와 네트워크 성능을 줄이는 데 도움이 될 수 있습니다. 
- 배치 그룹 및 짧은 지연 시간은 VPC를 떠나는 흐름을 지원하지 않습니다. 
- 네트워크 인터페이스는 네트워크 성능에 영향을 미치지 않습니다. 
- Application Load Balancer는 성능 문제를 지원하지 않습니다.
- Using more than one instance will increase the performance because any given flow to Amazon S3 will be limited to 5 Gbps
- R4 인스턴스는 크레딧을 사용할 수 있을 때 더 높은 대역폭을 허용하는 네트워크 I/O(입/출력) 크레딧을 사용하며, 이는 기준 성능 테스트에 영향을 미칠 수 있습니다. 성능 테스트 전에 네트워크 크레딧을 축적했다면, 이는 더 높은 피크값을 허용합니다
- ENA(Elastic Network Adapter) 드라이버를 지원하는 최신 버전으로 커널을 업데이트한 뒤, 그 외에도 향상된 네트워킹 지원을 위해 AMI 또는 인스턴스에 플래그를 지정해야 합니다.
- 초당 패킷을 늘리면 처리량이 감소할 가능성이 큽니다.
- 운영 체제 TCP(Transmission Control Protocol) 스택 조정, 네트워크 가속기 사용 또는 애플리케이션 메커니즘 변경과 같은 추가 조치
- 매우 높은 처리량 데이터 전송을 위해 네트워크 성능을 확장하려면, 주어진 흐름이나 인스턴스의 대역폭이 전체 성능을 제한하지 않도록 여러 인스턴스에 흐름을 분산합니다.
- 지터는 패킷 간의 지연 차이입니다. 지연을 보다 일관되게 만들어 지터를 줄일 수 있습니다. 향상된 네트워킹과 CPU 또는 디스크 병목 현상 제거는 지터를 줄이는 데 도움이 될 수 있습니다.
- Amazon VPC는 ​​QoS 없이 모든 패킷을 공정하게 처리합니다.
- 인스턴스별로 Network Load Balancer를 사용하면 비효율적이고 성능이 저하됩니다.
- 단일 배치 그룹은 하나의 가용 영역에만 적용되므로 가용성이 감소합니다.
- 운영 체제가 지원하는 인스턴스 크기와 제품군은 최대 처리량과 대역폭을 크게 정의합니다.
- 점보 프레임은 기본적으로 VPC에서 활성화되며 배치 그룹 외부에서 작동합니다.
- MTU를 증가시키는것은 PPS(초당 패킷수)가 제한되는 어플리케이션에 적합합니다. 패킷당 더 많은 데이터를 보낼수 있으므로 처리량이 증가합니다
- 탄력적 네트워크 인터페이스는 향상된 네트워킹을 지원하는 인스턴스의 네트워크 성능에 영향을 미치지 않습니다
- 멀티캐스트 트래픽에는 VPC에 없는 레이어 2 스위칭 및 라우팅 인프라가 필요합니다. 애플리케이션 구성 요소를 재설계하고 배치 그룹에 짧은 대기 시간을 제공하는 것이 가장 좋습니다.
- AWS Direct Connect 연결을 사용하면 온프레미스 연결을 개별 Amazon EC2 인스턴스 네트워크 제한 이상으로 확장할 수 있습니다.


### section7
> VPC Peering : 서로 다른 VPC를 같은 네트워크처럼 사용하는 것으로 관리형 서비스이며, AWS 내에서 최저지연시간과 일관된 대역폭을 제공한다
- why
    - VPC가 각각의 IGW로 통신하게될경우
        - 1\. 덜 보안적이다
        - 2\. latency와 bandwidth 영향
        - 3\. NAT Gateway 등 사용 시 비용발생
        - 4\. public으로 노출되기를 원하지않음
- note
    - 다른 계정, 다른 Region의 VPC와 연결이 가능하다
    - VPC별로 VPC Peering은 최대 125개까지 설정가능하다
    - VPC Peering을 2개설정한다고해서, bandwidth와 latency가 2배가되지않는다.
    - non-transitive 특성
        - A-B, A-C 로 연결되어있다고해서, A-C로 연결되지않는다
        - C의 VPC Gatewayendpoint를 통해 S3 접근 등도 제한된다.
        - C를 통해 IGW를 통과해서 인터넷사용도 제한된다
        - B의 프록시 인스턴스를 이용한다면 C로 접근할 수 있다
    - non-overlapping (CIDR)
        - RoutingTable에서 각각의 VPC Subnet을 업데이트해야한다
    - 가용영역이 동일하면, VPC Peering은 비용이 무료다

### section8
> Transit Gateway : 
- introduction
    - Multi-VPC의 full-mesh 연결을 단순하게 해준다
        - 6개의 VPC를 peering으로 연결하려면 15개의 연결이필요
        - 6개의 VPC를 transit GW로 연결하면 1개만 필요
    - On-premise의 VPN Connection을 hub and spoke 모델 지원
    - On-premise의 Router를 Direct Connect와 연결해서 지원
    - 서로 다른 Region 끼리는 Transit Gateway Peering을 이용하여 연결할 수 있다.
    - Customizing 할 수 있다면, 방화벽 용으로 Traffic Inspection VPC를 사용할 수 있다.
- attachment-routing
    - tgw는 기본 Routing Table이 있다
    - VPC간 CIDR이 overlapping 되면안된다
    - Auto
        - attachment하게되는 VPC별로 자동으로 라우팅경로가 추가된다 (EX : 10.1.0.0/16 via att-a)
    - Static
        - 각 VPC별 RoutingTable에 TGW 전체 서브넷을 적용해야한다 (EX : 10.0.0.0/8)
- attachment-routing-control
    > 특정 VPC 간만 통신하게 한다
    - setting - do not enable RT Association
    - setting - do not enable RT Propagation
    - create TGW RT
    - create Assoiastion : VPC 연결
    - create Propagation : VPC 할당
- transitGateway AZ Considerations
    - TGW랑 연결된 AZ의 해당 서브넷만 통신할수있다?
- transitGateway Peering
    - Regional Router이기때문에, Region간 연결가능
    - routing은 static으로 진행한다
- TGW Architecture : Centralized outbound internet using NAT
    - SpokeVPC, centralized VPC
    - NAT Gateway를 여러개쓰지않고, 1개 또는 2개로 인터넷 개통
    - HA를 만족할 수 있다
    - 10.0.0.0/8 -> blackholl
- TGW Architecture : Centralized IPS/IDC on EC2
    - SpokeVPC, EgreesVPC
    - 장애발생 시, cloutwatch alarm과 lambda를 활용해
    라우팅 테이블을 수동으로 변경해야한다. tgw는 로드벨런싱을 지원하지않는다
- TGW Architecture : Centralized VPC Endpoints
    - AWS VPN - IPSec + BGP (supported loadbalansing, detect fail)
    - VPN ECMP Support - 50GB - 멀티VPN 터널
- vpc peering vs transit gateway

### section9
- VPC Endpoint는 공개 서비스에 대한 비공개 액세스입니다.
- VPC Endpoint를 사용하면 인터넷으로 트래픽이 흐를필요가없다
- VPC 엔드포인트는 동일한 AWS 리전의 AWS 서비스에 대해 작동합니다.
- IGW, NAT GW를 사용하지않아도 되며, 대역폭 제한도없다
- GW Endpoint(S3,DynamoDB)와 ENI(SQS 등)가 있다
- privateIP에 대해서 접근을 제한할 수는없다
- process
    - 1. s3 endpoint를 만든다
    - 2. RoutingTable에 PL로 시작하는 prefix를 추가한다
    - 3. HTTP,HTTPS 허용여부를 확인한다
    - 4. VPC Endpoint Policy를 확인한다.
    - 5. EC2에 S3 Resource Based IAM Role을 부여한다
    - 6. S3 Bucket Policy를 확인한다
        - VPCE : One
        - VPC : Entire VPC
    - 7. S3 Bucket Policy에서 VPC 엔드포인트에 대한 액세스를 제한하도록 구성되지 않은 한, 퍼블릭 API를 통해 서비스를 계속 사용할 수 있습니다.

- quiz
- VPC 엔드포인트 정책에는 콘솔에 특별히 적용되는 조건이 없으며 엔드포인트 정책은 버킷에 액세스할 수 있는 리소스를 제한하지 않습니다. AWS Management 콘솔을 통해 Amazon S3 버킷에 대한 액세스를 활성화하려면 퍼블릭 액세스를 허용해야 합니다.
- Amazon S3 엔드포인트가 작동하려면 DNS를 활성화해야 합니다. 
- Amazon S3 엔드포인트에는 IP 주소가 필요하지 않습니다. 
- 엔드포인트는 또한 프라이빗 또는 퍼블릭 서브넷의 영향을 받지 않습니다. 
- Amazon S3 엔드포인트에는 라우팅 테이블의 경로가 필요합니다.

### section10
- VPC Peering과의 차이점은 한 가지 서비스만 허용할 수 있다
- VPC interface endpoint
    - 동일 Region의 AWS 리소스 : SQS, kinesis 등
        - hands-on
            - 1\. Enable DNS Name
            - 2\. VPC - DNS Resolution - Enable
            - 3\. VPC - DNS Hostname - Enable
            - 4\. SG - 443 - attach to SQS
            - 5\. IAM Role - SQSFullAccess Polices - attach to EC2
        - VPC Interface Endpoint는 ipv4 만 지원한다
        - VPC Interface Endpoint는 Regional, Zonal 둘다 DNS 엔트리를 제공한다
        - AZ당 ENI를 생성할 수 있기때문에 고가용성이다
        - 443을 이용하기때문에 보안이 적용된다
    - privateLink
        - ServiceVPC <-> NLB <-> EC2
        - ServiceVPC <-> NLB <-> VPN/DX <-> On-Premise-Server
        - 1000개의 CustomerVPC에 노출될 수 있다
- VPC Interface Endpoint DNS
    - AWS는 private hosted zone을 생성해서, VPC에 associate 해준다. 
    - DNS query를 할경우, public hostname -> private ip로 자동으로 resolution 해준다
    - VPC Peering을 하게될경우, Route53 Private Hosted Zone을 attach해준다면, interface endpoint에 대한 DNS resolve가 가능하다
    - Route53 Private Hosted Zone을 사용해서 interface Endpoint의 alias Record를 추가할 수 있다.
    - 온프레미스 네트워크와 VPN or DX로 연결될경우, Cusotm Route53 DNS Resolver로 DNS Query를 포워딩해서 interface Endpoint에 접근할 수 있다
    - CASE 1 : Unable
        - subnet 1
            - public dns -> igw -> internet -> service
            - private dns -> other subnet -> private eni -> service
        - subnet 2 (ENI)
            - public dns -> x
            - private dns -> private eni -> service
    - CASE 2 : Enable
        - subnet 1
            - public dns -> other subnet -> private eni -> service
            - private dns -> other subnet -> private eni -> service
        - subnet 2 (ENI)
            - public dns -> private eni -> service
            - private dns -> private eni -> service
    - required
        - VPC - Endpoint - Edit - PrivateDNSName - Enable
        - VPC - Enable DNS Hostname - True
        - VPC - Enable DNS Support - True
    - cli
        - \-\-queue-url [public-hostname]
        - \-\-endpoint-url [regional-hostname]
- AWS PrivateLink는 interface VPC Endpoint의 확장이다
- vpc peering vs vpc privatelink
    - privatelink는 VPC의 CIDR이 동일해도된다
    - privatelink는 one service만 exposed 된다
    - privatelink는 Connection에 제한이 없다
    - privatelink는 consumer가 service provider VPC로 단방향 통신이다

- quiz
- AWS PrivateLink는 서비스 VPC에 대한 요청을 시작하는 솔루션에만 적합합니다
공유 VPC의 서비스는 스포크 VPC에 대한 연결을 시작할 수 없습니다.
- AWS PrivateLink는 VPC 피어링보다 더 많은 스포크 VPC를 지원합니다.
- AWS PrivateLink는 소스 NAT(Network Address Translation)를 적용하므로 소스 IP를 기본적으로 사용할 수 없습니다.
- IPsec을 지원하지 않기 때문에 AWS PrivateLink를 통해 VPN을 생성할 수 없습니다.
- AWS PrivateLink는 TCP 트래픽만 지원합니다.
- DNS 이름 대신 AWS PrivateLink 엔드포인트의 IPv4 주소를 사용할 수 있습니다.
- AWS PrivateLink는 접두사 목록을 사용하지 않습니다.
- AWS PrivateLink가 있는 라우팅 테이블에는 IP 주소가 없습니다.
- AWS PrivateLink는 중앙 서비스를 제공할 뿐만 아니라 이 사용 사례에 맞게 확장할 수 있습니다.
- 개발 시스템에 대한 액세스를 제공하기 위한 최상의 디자인은 중앙 VPC에 개발시스템을 배포하고, 개발자가 AWS PrivateLink를 통해 시스템에 엑세스하도록 허용합니다.

### section11
- introduction To Hybrid Networking
    - flow over the internet
    - client-to-site VPN
        - EC2 - VPN Endpoint
        - aws <-> client
    - site-to-site VPN
        - VGW (Virtual Private Gateway)
        - aws <-> on-prem
    - Direct Connect
        - phyically connected
        - private fiber line
        - 대역폭 확보가능
        - aws <-> on-prem
- OSI7 Layer
    - Layer7 : EndUser Layer
        - HTTP, FTP, SSH, DNS
    - Layer6 : Convert to Binary Layer
        - Encryption
        - Decryption
        - Compression
            - EX : 10mb -> 2mb
    - Layer5 : Session Management
        - Authentication
        - Authorization
    - Layer4 : End to End Connection Layer
        - Segments
            - data
        - TCP,UDP
        - Segmentation
        - Flow Control
            - src의 대역폭이 100Mbps, dst의 대역폭이 10Mbps만 지원한다면 변경
        - Error Control
    - Layer3
        - Packets
            - data-ip
        - IP, IPSec, ICMP
    - Layer2 : Media Access Contol Layer
        - Frames
            - data-ip-mac
        - Ethernet, PPP
    - Layer1
        - Electronic, Radio via Ethernet Cable or optical fiber
- How IPSec VPN Works ?
    - AWS는 IPSec VPN만 지원한다
    - Site-to-Site VPN(VGW <-> CGW) 연결 시, 2개의 tunnel(4개의 SA)를 통해 HA를 확보할 수 있다
    - UDP port 500에서 동작한다.
    - Layer 3에서 Encrpyted 된다
    - two phase가 있다
        - IKE phase1
            - Identification & Authentication SA
            - pre-shared 등의 Credential을 교환한다
        - IKE phase2
            - IPSec SA
            - 실제로 데이터가 전송된다
    - 그 외, 디프하만 등의 개념이있다
- How BGP works
    - AS : Autonomus Systems (자율시스템)
        - public AS : 1 ~ 64495 (IANA)
        - private AS : 64512 ~ 65534
    - static route
        - 경로에 대해서 라우팅테이블에 경로를 전부 추가해줘야함
    - dynamic route
        - dynamically propagated
        - BGP ( Bolder Gateway Protocol )
            - Path-Vector Protocol
            - TBGP (within AS)
            - EBGP (between AS)
                - Highest Weight
                - Highest Local preference
                - Shorted AS Path : how many hops via dst?
                - Lowest MED (Multi Exit Discriminator)
            - Each AS is connected by MPLS or Other link
            - each entry in Routing Table has a Dst, Nexthop, Path
                - DST : 10.30.0.0/16, 10.10.0.0/16
                - NextHop : 10.30.0.1, 0.0.0.0
                - Path : i, 400

- BGP Route selection

### section14
- Introduction DX
    - DX Location은 3rd Party에서 제공된다.
    - AWS에서 나오는 트래픽을 비용으로 청구하며, 종합적으로 저렴할 수 있음
    - 1/10/100 GBPS를 DX Location에 지원한다
    - 25 Region에 108 DX가 지원된다
    - 연결에 4-12 weeks의 시간이 소요된다.
    - OSI 7 Layer
        - L1 : single Mode Fiber
        - L2 : 802.1Q
        - L3 : peer and AWS IP
        - L4 : TCP 179
        - L7 : BGP
    - Connected Flow
        - AWS <-> AWS DX Router <-> Customer Router <-> On-prem Router
    - PublicVIF : Connected S3, DynamoDB etc...
    - PrivateVIF : Connected VPC 
- DX Component
    - AWS Backbone Network <-> Cross Connect <-> Customer Router & Access Point <-> Customer Backbone Network
        - AWS Backbone Network = AWS <-> DX Router
        - Cross Connect = DX Router <-> Customer or Partner Router
            - managed by DX Provider
        - Access Point = Customer or Partner Router <-> DX Location
            - managed by Customer or Partner
        - Customer Backbone Network = Customer or Partner Router <-> On-prem
            - managed by Customer or ISP Provider
            - WAN/MPLS
- DX Requirement
    - 802.1q VLAN
        - Ethernet Frame -> 802.1q Encaptulation Frame (VLAN TAG Added = 4 Byte)
    - Single Mode Fiber
    - Auto-negotiation(port speed and duplex mod) for the port disabled
    - BGP, BGP MD5
        - (AWS AS {range 4byte} supported)
    - BFD (Bidirectional Forwarding Detection)
        - why ? : network is not always available connection
        - fail detect within 1 second
        - optional, not required
    - ip-ranges.json
        - https://ip-ranges.amazonaws.com/ip-ranges.json
        - enable AWS SNS Topic in Region ip-range changed
- DX Connection
    - Dedicated Connection
        - 1G / 10G / 100G
        - 1 Dedicated COnnection = 50 VIF
    - Hosted Connection
        - excess traffic is dropped
        - 1 Hosted Connection = 1 VIF
    - Hosted VIF
        - Other AWS account enable
- Step
    - Directed Connection
        - 1\. aws request and select location by console or cli
        - 2\. Physical Presence
            - if, LOA-CFA
            - if not, LOA-CFA copy via DX APN Partner
        - 3\. connected. tx/rx optical signal detected my device
    - Hosted Connection
        - LOA-CFA not required
        - AWS Connect request not required
        - AWS Account 12-digit number via AWS Partner
    - Hosted VIF
        - Connection account와 별개의 계정일 수 있다.
- DX VIFs
    - DX를 사용하려면 VIF가 필요함
    - GateWay Type은 Private(Virtual Private Gateway)와 Transit (DXGateway)
    - VLAN은 Connection 당 중복이 될 수 없다.
    - BGP Peer IP
        - IPv6 : AWS가 자동할당
        - Private : 169.254.0.0 / 16
        - Public : /30
    - BGP ASN
        - Public is Customer
        - Private is AWS
    - BGP MD5 Auth Key를 사용할 수 있으며, AWS에서 default 제공가능
    - Public VIF 
    - Private VIF : Jumbo Frame Enable (9005 MTU)
    - Transit VIF : Jumbo Frame Enable (8500 MTU)
        - TransitGateWay <-> DirectConnectGateWay <-> TransitVIFs <->
    - VLAN이 Tagging됨
        - didicated Connection : One Connection - Multi VIFs
        - hosted Connection : Multi Connection - Multi VIFs
- Public VIFs
    - Globally access enable
    - on-prem의 prefix는 1000개까지 수신할 수 있다.
- Private VIFs
    - on-prem의 prefix는 100개까지 수신할 수 있다.
    - Endpoint Gateway <-> On-prem 은 통신할 수 없다
    - DNS Server <-> On-prem 은 통신할 수 없다
    - interface Gateway <-> On-prem은 통신할 수 있다
    - VPC Resource(EC2, Redshift 등) <-> On-prem은 통신할 수 있다
- DXGateway
    - multi Region, multi VPC can Connected with Private VIFs
    - VPC의 CIDR은 Overlapping 될 수 없다
    - DXGateway 하나에 여러개 DX Location이 연결될 수 있음
        - DXGateway는 non-transitive 하기때문에, 서로 통신할 수없음
        - on-prem 끼리도 동일하게 통신할 수 없음
    - dedicated Connection의경우 최대 50개의 VIFs가 가능하다.
        - VIFs 별로 10개씩 VPC를 DXGateway를 통해 연결할 수 있다
        - 총 500개의 VPC를 연결할 수 있다.
- DXGateway with TransitGateway
    - TGW끼리 peering을 통해 region이 서로 다른 VPC끼리 통신이 가능하다. DX를 통해서는 불가능하다
    - TGW끼리 peering을 통해 각각의 DXGateway, DXLocation, On-prem이 연결됬다면 On-prem끼리 통신이 가능하다.
    - 1 TransitVIF가 50개의 VIFs와 별도로 Connection에 생성이가능하다.
    - 1 TransitVIF의 경우 HostedConnection의 bandwidth가 1GBPs 미만이면 생성할 수 없다
    - 1 DXGateway랑 3개의 TransitGateway와 연결될 수 있으며, 이는 3개의 Region까지 연결된다는 뜻이다.
- DXGateway with TransitVPC
    - detached mode vgw와 public or private VIFs와 연결되서 사용할 수 있다
    - spoke and hub 모델로 IDS/IPS 솔루션(EC2) 등을 사용하기 위해 사용될 수 있다
- Routing Policies and BGP Communities
    - inbound Routing policies
    - outbound Routing policies
- BGP
    - inbound policies : not advertise other customer, connection
    - outbound policies : Longest Prefix match or AS_PATH, BGP Community Tag
- Public Routing Policies
    - Public VIFs <-> Public ASN
        - active-active, active-passive? connection
        - local-pref, AS_Path
- LAG
    - link agreegation은 최대 4개까지 가능하다
    - bandwidth는 1g/10g/100g이므로, 4g,40g,200g까지 가능하다.
    - 모든 lag는 Active/Active Mode이다. 
    - LAG의 Operational Connection attribute value 를 설정할 수 있다
    - 동일 DX location에서 LAG를 이중구성해서 HA를 확보할 수 있다.
- Resilient DX Connections
    - Maximum Resiliancy
    - High Resiliancy
- BFD(BiDirectional Fail Dectection)
    - DX의경우, VPN Backup 구성이나 multi-DX Location으로 고가용성을 확보하는데 장애를 빠르게 감지할 수 있어야한다.
    - 300ms 속도로 3번 체크해서 응답하지않을경우, 장애로 판단하기 떄문에 1초 이내로 확인할 수 있다
    - AWS와 EndUser 둘다 지원을 해야한다
    - Routing 프로토콜로 BGP, OSPF를 사용해야한다.
    - 비동기 모드로 check 패킷이 돌아간다.
- DX Security
    - DX의 트래픽은 기본적으로 encrypted되지않는다
    - DX의 옵션으로 선택해서 진행해야한다
        - L2
            - MACSec 프로토콜을 적용가능한 Location이 별도로 있고, dedicated Connection에서만 사용가능하다
        - L3
            - VGW나 transitGW의 PublicIP와 IPSecVPN을 적용하는 것
            - Bandwidth가 1.25GBps 적용되며, TGW의 경우 ECMP를 적용할 수 있다
        - L4
            - TLS 적용
- JumboFrames
    - DX에서 2018년부터 지원한다
    - RouteType이 propagated인경우에만 지원된다
    - PublicVIF는 지원되지않는다
    - PrivateVIF는 9001, TransitVIF는 8500 또는 1500 MTU로 지원될 수 있다
- DX with Cloudwatch Metrics
    - Egress : AWS의 Outbound에 대한 bitrate나 Packet per Second 등을 확인한다.
    - Ingress : AWS의 inbound에 대한 bitrate나 Packet per Second 등을 확인한다.
    - ConnectionState나 ErrorRate 확인이 가능하다
    - VIF에 대한 Egress나 Ingress도 확인가능하다
- Troubleshooting with DirectConnect
    - no physical Connectivity
    - VIFs down
    - BGP Session down
    - not able to reach dst
- DX Billing
    - Who owns the connection
        - port hour charges
        - capacity
            - dedicated connection
            - hosted connection
        - except japan, all region same
    - Who Sends Traffic
        - DTO
        - resource account
        - S3 option, requester payment
- BGP Coummunity Tags
    - public VIFs
        - inboud
            - 7224:9100 : local region
            - 7224:9200 : some region
            - 7224:9300 : global
        - outbound
            - customer router can filter about advertise aws routes
            - 7224:8100 : same region
            - 7224:8200 : same continent
            - no-tag : global
            - NO_EXPORT


### section17
> Route53 :

- ICANN : 국제인터넷주소관리기구
- TLD : .com 과같은 Top Level Domain
- SLD : example.com 과같은 Sub Level Domain
- FQDN : Full Qualified Domain Name
- Name Server : resolves DNS Queries
- TTL : Time To Live의 줄임마로, DNS Resolver에 레코드가 캐시된 시간. TTL이 높으면 레코드 갱신시간이 길고, TTL이 짧으면 record 변경여부 확인을 위해 질의간격이 짧게 많이 발생한다.
- (must know) A / AAAA / CNAME / NS
- A : hostname to ipv4
- AAAA : hostname to ipv6
- CNAME : hostname to any another hostname
    - Example: you can’t create for example.com(TLD or SLD), but you can create for www.example.com
- Alias : hostname to an AWS Resource 
    - enable ROOT domain(TLD or SLD) and Non Root domain
    - You can’t set the TTL
    - You cannot set an ALIAS record for an EC2 DNS name
- NS : Name Servers for the hosted zone
- public hosted zone
- private hosted zone
- Routing Policies - simple
    - Can specify multiple values in the same record
    - Can’t be associated with HealthChecks
- You must create a CNAME record (other record types are not supported) for RDS Instance
- You must create an Alias record for S3 endpoints

---

### examtopics


- 2\. AWS VPC에서는 브로드캐스트를 보낼 수 없지만 주소는 아직 예약되어 있습니다.
- 3\. IDS - 침입 탐지, 네트워크 트래픽 흐름 기준을 설정하도록 설계되지 않았습니다.
- 8\. AWS Direct Connect에서 네트워크는 BGP(Border Gateway Protocol) 및 BGP MD5 인증을 지원해야 하며
Amazon Virtual Private Cloud(VPC)에 연결하려면 프라이빗 ASN(자율 시스템 번호) 을 제공해야 합니다. 첫단계는 AWS Direct Connect 연결 요청 제출, https://docs.aws.amazon.com/directconnect/latest/UserGuide/maximum_resiliency.html
- 10\. 정의에 따르면 HTTP는 연결 지향 프로토콜이므로 TCP를 사용합니다.
- 11\. AWS Direct Connect는 표준 1기가비트 또는 10기가비트 이더넷 단일 모드 광섬유 케이블을 통해 내부 네트워크를 AWS Direct Connect 위치에 연결합니다.
- 12\. AWS Direct Connect를 사용하려면 가상인터페이스 생성이 필요한대 매개변수로 VLAN ID와 IP prefixes to advertise 가 필요하다.
- 13\. AWS Config CLI의 describe-compliance-by-config-rule 명령을 사용하여 각 규칙의 규정 준수 상태를 확인할 수 있습니다. http://docs.aws.amazon.com/config/latest/developerguide/evaluate-config_view-compliance.html
- 14\. Amazon CloudFront의 웹 배포의 경우 오리진은 Amazon S3 버킷 또는 HTTP 서버가 될 수 있습니다.
- 15\. 6초의 HealthCheck Interval, unhealthy threshold 가 5, healthy threshold가 10일 때인스턴스를 정상으로 선언하려면 10번의 성공적인 확인이 필요합니다. 인스턴스를 비정상으로 선언하려면 5번의 실패한 확인이 필요합니다.
- 16\. Direct Connect 연결을 사용하여 모든 유럽 지역에 액세스하려고 합니다. DX Gateway를 사용하면됩니다. AWS Direct Connect 게이트웨이 또는 퍼블릭 가상 인터페이스를 사용하면 선택한 위치에서 다른 AWS 리전(중국 제외)에 액세스할 수 있습니다. https://aws.amazon.com/ko/directconnect/locations/
- 17\. Amazon CloudFront와 관련하여 HTTP 및 HTTPS 웹 배포의 경우 CloudFront에서 오리진으로 쿠키를 전달할지 여부를 선택할 수 있습니다. RTMP 배포의 경우 쿠키를 처리하도록 CloudFront를 구성할 수 없습니다.
- 18\. Amazon SNS 주제에 대해 CloudWatch로 구성한 지표는 자동으로 수집되어 1분 간격으로 CloudWatch에 푸시됩니다. https://docs.aws.amazon.com/sns/latest/dg/sns-monitoring-using-cloudwatch.html
- 19\. 모든 트래픽이 "보안 그룹 1"을 사용하는 "서브넷 1"의 인스턴스에 액세스할 수 있도록 하려면, 0.0.0.0/0이 "서브넷 1"에 액세스하도록 허용하는 NACL 규칙, 0.0.0.0/0 인바운드를 허용하는 "보안 그룹 1"의 보안 그룹 규칙이 필요하다
- 20\. 데이터를 교환할 수 있어야 하는 세 개의 가상 사설 클라우드(VPC)가 있습니다. 각 VPC를 다른 모든 VPC에 피어링하여 전체 메시 피어링을 생성합니다. 또는 그들 사이에 VPN을 만들고 그에 따라 라우팅 테이블을 조정합니다.
- 21\. Amazon CloudFront의 배포에서 신속하게 항목을 삭제해야 하는 경우, 객체를 무효화한다. https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html
- 22\. MS SmoothStreaming 형식의 온디맨드 스트리밍 서비스 제공을 위해 CloudFront를 사용할 수 있다
- 23\. AWS CloudTrail은 단일 영역에서 수많은 트레일을 생성함으로써 예를 들어 보안 관리자는 모든 지역에 적용되는 추적을 만들고 하나의 키 관리 서비스 키를 사용하여 암호화를 구성할 수 있습니다. 개발자는 운영 문제를 해결하기 위해 한 지역에 적용되는 추적을 만들 수 있습니다.
- 24\. VPC 보안그룹의 기본측면 중 하나는 허용규칙은 지정할 수 있지만, 거부규칙은 지정할 수 없다. https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html
- 25\. CloudTrail 로그 파일에 SSE-KMS를 사용하면, Cloud trail 보안계층을 직접관리할 수 있다. 직접 관리 가능한 보안 계층을 제공하기 위해 CloudTrail 로그 파일 에 대해 AWS KMS 관리형 키(SSE-KMS)로 서버 측 암호화를 대신 사용할 수 있습니다.
- 26\. AWS CloudFormation의 변경에대한 알람을 알 수 있는 방법은 AWS SNS, AWS Config, AWS CloudFormation 이다
- 27\. RTMP 배포의 경우 Amazon CloudFront가 오리진 서버에서 객체를 요청할 때 요청을 오리진으로 전달하기 전에 모든 쿠키를 제거합니다. 오리진이 객체와 함께 쿠키를 반환하는 경우 CloudFront는 최종 사용자에게 객체를 반환하기 전에 쿠키를 제거합니다.
- 28\. 많은 수의 승인된 사용자만 CloudFront 배포에서 제공하는 파일에 접근하게하려면 signed cookie를 사용하거나 버킷정책을 오직 CloudFront OAI로만 구성한다.
- 29\. ENI는 AZ내에서만 이동할 수 있다. 새로운 인스턴스를 사용하려면, 대기 인스턴스의 보조ENI를 생성하고 DB의 보안그룹을 연결합니다.
- 30\. AWS DirectConnect의 CrossConnect단계를 실행하려면, 연결요청 후 72시간 이내에 LOA-CFA 를 AWS로부터 받아야한다.
- 31\. 인스턴스의 메타데이터에 엑세스하려면 아웃바운드, tcp 프로토콜, 80 port, 목적지 169.254.169.254를 허용해야한다.
- 32\. Adobe Flash 멀티미디어 콘텐츠는 UDP 이기때문에, HTTP,HTTPS를 지원하는 CloudFront로 배포할 수 없다
- 33\. Route53은 Geolocation과 GeoProximity을 기반으로 라우팅을 제공할 수 있다.
- 34\. AWS CloudFormation 템플릿에서는 사용자 지정 리소스를 통해 AWS에서 제공하지않는 리소스를 사용할 수 있다. 따라서 IPAM 같은 리소스를 사용할 수 있다.
- 35\. 비즈니스는 225개의 모바일 및 데스크톱 디바이스와 300개의 파트너 VPN을 위한 AWS VPC에 액세스해야 합니다. VPN 사용자는 서로 통신할 수 없어야 합니다.
    - 단일지역의 하나의 VPC는 하나의 VGW랑 연결되며 Site-to-String VPN의 상한수는 50개이다
    - Amazon EC2 인스턴스 VPN을 사용합니다. VPN 인스턴스의 기능을 사용하여 라우팅 및 연결을 제한합니다.
- 36\. AWS Config는 규정(compliant)을 준수하지않는 리소스에 대해서 SNS알람을 사용자에게 보내고, 리소스를 비준수(non-compliant)로 표기합니다. 리소스의 사용여부는 사용자가 이후 결정합니다.
- 37\. CloudFront Resource에 적합한 사람이 접근하게하려면, signed URL 또는 signed Cookie를 사용하는것입니다.
- 38\. CIDR 블록 33.16.0.0/16의 보조 CIDR 블록이 될 수 있는 서브넷은 33.17.0.0/16과 100.70.0.0/17 입니다. https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html#add-cidr-block-restrictions
- 39\. 기존 VPC를 사용하고 Amazon S3 엔드포인트가 있는 프라이빗 서브넷에서 Amazon EMR을 구성합니다. IGW와 NAT Gateway를 사용할 필요가 없다
- 40\. 10.0.0.0/16의 CIDR 블록의 DNS주소(Amazon Route 53 Resolver)는 169.254.169.253과 10.0.0.2 이다
- 41\. 클러스터 배치 그룹은 단일 가용 영역 내 인스턴스의 논리적 그룹입니다. 클러스터 배치 그룹은 동일한 리전의 피어링된 VPC에 걸쳐 있을 수 있습니다. 배치 그룹은 병합할 수 없습니다.
- 42\. 어떤 디자인이 백엔드 인스턴스를 가능한 한 적게 공개할까요?
    - ALB용 퍼블릭 서브넷, 웹 티어용 프라이빗 서브넷, 애플리케이션 티어용 프라이빗 서브넷이 있는 VPC. 애플리케이션 계층은 VPC 엔드포인트를 통해 DynamoDB를 연결합니다.
- 44\. Route Table에는 default로 50개의 경로설정이 가능하고, 최대 1000개 까지 증가시킬 수 있지만 관리가 잘 안될 수 있다. BGP를 사용하는 Routetable은 default가 100개이다. 
    - https://docs.aws.amazon.com/vpc/latest/userguide/amazon-vpc-limits.html
- 45\. RDS의 서브넷 그룹에는 2개가 있어야 HA(고가용성) 이 보장된다
- 46\. 거의 실시간에 가까운 IDS(침입 탐지 시스템) 솔루션을 사용하고 있습니다. 즉시 시스템을 구현하는 방법은 Amazon GuardDuty 활성화입니다
    - Amazon GuardDuty with network intrusion detection systems (IDS) on threat detection of network layer attacks.
- 47\. 1Gbps의 속도로 AWS Direct Connect 연결을 최근에 설치했습니다. Direct Connect 위치와 포트 간의 교차 연결을 주문
    - 1-Gbps Single Mode Fiber Interface, 802.1Q VLAN, Peer IP Address, BGP Session with MD5.
- 49\. AWS Marketplace에서 배포한 타사 VPN 솔루션
    - AWS 기반 하드웨어 VPN에는 암호 변경/키 회전 및 인증서 기반 인증 기능이 없기 때문에 정답은 B입니다. AWS Marketplace에서 제공되는 타사 VPN 소프트웨어에서 이러한 고급 VPN 기능을 가져와 모든 지역의 EC2 인스턴스에 설치할 수 있습니다.
- 50\. CloudFront가 최종 사용자에게 반환할 응답 본문의 최대 크기는 30GB입니다
<<<<<<< HEAD
- 51\. ESP에 대한 방화벽 규칙 IP프로토콜 50을 추가한다.
- 52\. alb의경우, host condition을 통해 Route53의 public domain URL 제공가능. host condition은 멀티서브도메인을 지원할 수 있다.
    - test.example.com
    - web.example.com
        - *.example.com을 적절한 대상 그룹으로 라우팅하기 위한 ALB 수신기의 호스트 조건.
    - example.com
        - example.com을 적절한 대상 그룹으로 라우팅하기 위한 ALB 수신기의 호스트 조건.
- 53\. 최종 사용자는 애플리케이션에 액세스하는 동안 대기 시간이 가장 낮아야 합니다.
    - ELB는 독점 TCP 및 UDP 프로토콜을 기반으로 합니다.
    - ELB를 지역 ​​간 추가 레이어로 추가하면 대기 시간이 추가되는데, 이는 가장 낮지 않습니다.
        - Amazon Route 53에서 지연 시간 기반 라우팅 정책을 사용하여 서비스 호스트의 IP 주소를 A레코드로 등록하고 이러한 호스트에 대해 Route 53 상태 확인을 설정합니다.
- 54\. DDOS 공격 탐지에 도움이되는 지표는?
    - ELB SurgeQueueLength가 있다. 대기열에 대기중인 총 요청수로 최대 통계치에 다다르면, 빠르게 수신요청을 처리할수없기때문에 503(Service Unavailable)이나 504(gateway timeout)를 반환한다
    - Cloudfront request, EC2 CPUUtilization을 확인해볼 수 있다.
- 55\. DX
    - L2 경계 스위치에서 직접 연결 회로를 종료합니다. 그러면 두 라우터에 트렁크 연결이 됩니다.
    - 동일한 VPC에 대해 서로 다른 피어 IP를 가진 두 개의 Direct Connect 프라이빗 VIF를 생성합니다.
    - You cannot create 1 VIF with 2 different customer peer IP
    - You can only have one VGW per VPC
    - https://docs.aws.amazon.com/directconnect/latest/UserGuide/getting_started.html
    - https://aws.amazon.com/es/blogs/networking-and-content-delivery/creating-active-passive-bgp-connections-over-aws-direct-connect/
- 56\. WorkSpaces는 인증을 위해 온프레미스 도메인을 쿼리할 수 없다
- 57\. 'WorkSpace를 시작할 때 오류가 발생했습니다. 다시 시도해 주세요.'
    - 포트 4172에서 UDP를 허용하고 포트 4172에서 TCP를 허용하도록 Amazon WorkSpaces에 할당된 보안 그룹의 인바운드 규칙을 업데이트합니다.
    - https://docs.aws.amazon.com/workspaces/latest/adminguide/amazon-workspaces-troubleshooting.html
- 58\. 리소스를 보호하기위해 baseline을 설정하려면, WAF를 모니터 모드로 설정합니다.
- 59\. 
    - 온프레미스 이름 서버는 하위 도메인 'dev.example.com'에 사용해야 합니다. 관리자는 Amazon Route 53을 통해 이 시나리오를 구현하기로 선택했습니다.
    - example.com에 대해 Route 53 퍼블릭 및 프라이빗 호스팅 영역을 사용하고 dev.example.com에 대해 하위 도메인 위임 수행
    - https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/hosted-zone-private-considerations.html
- 60\. CloudWatch의 통계지표에는 demention, namespace, data point 등이 전부사용된다.
- 61\. 인프라에 변경 사항이 발생했는지 확인하기 위해 어떤 서비스를 이용하시겠습니까?
    - AWS Config
- 62\. DX가 제대로 작동하려면 자동 협상을 비활성화해야 합니다.
- 63\. 하나의 Router로 여러 VPC와 연결해서 transitive하게 쓰려면 어떡해해야하는가?
    - Use a transit VPC with a VPN running on one or more EC2 instances to route traffic between the VPCs
- 64\. AWS Config는 S3에 Configuration Snapshot과 Configuration histroy를 저장한다
- 66\. 
    - 조직의 암호화 정책을 준수하는 ELB 설정은 무엇입니까?
        - TCP 모드에서 ELB 프로토콜을 구성합니다. SSL 종료를 위해 애플리케이션 인스턴스를 구성합니다. SSL에 대해 Amazon RDS를 구성하고 REQUIRE SSL 권한 부여를 사용합니다.
        -  https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/elb-listener-config.html
- 67\. 귀하의 회사는 방금 인수되었으며 호스팅된 VIF는 새 상위 조직에서 AWS VPC로 Direct Link 연결을 확장하는 데 사용되었습니다.
    - 귀하는 모든 데이터 전송에 대한 책임이 있습니다.
    - 호스팅된 VIF는 타사 VIF만을 의미하므로 데이터 전송에 대한 책임은 소비자에게만 있습니다. 포트 시간은 연결 소유자의 책임입니다.
- 69\. Cloudfront에서 미디어파일을 제공하려면 미디어파일 경로 뒤에 cfx/st 가 포함되어야한다
    - ex : rtmp://s5c39gqb8ow64r.cloudfront.net/cfx/st/mediafile.flv
- 70\. It is billed at DX destination rate, not DX origin rate.
    - 원격 지역에서 전송되는 모든 데이터는 원격 지역 데이터 전송 요금으로 청구됩니다.
- 71\. ipv6의 VPC CIDR는 /56이다
- 72\. 온프레미스 센터에 2개의 VPC가 있고, Cloud-based의 DNS서버를 사용하고싶다
    - VPC를 피어링하고 VPC 간에 경로를 설정합니다.
    - DNS 서버를 가리키도록 두 VPC의 DHCP 옵션 세트를 구성합니다.
        - DNS 요청을 전달하기 위해 Route 53 레코드를 생성할 수 없습니다.
- 73\. 
    - D. 아무 일도 일어나지 않을 것입니다. John은 작업을 설정할 수 있지만 IAM 정책을 통한 EC2 액세스 권한이 없기 때문에 실행되지 않습니다.
    - AWSServiceRoleForCloudwatchEvents 같은 IAM Role을 이용하면 사용자가 권한이없어도, 사용자를 대신해서 경보작업을 수행할 수 있다
    - https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/UsingAlarmActions.html
- 74 \. 다른 2개의 부서별 전용 가상 사설망(VPC)(VPC-Dept1 및 VPC-Dept2)에 공유 서비스를 제공하는 중앙 집중식 가상 사설망(VPC-Shared)이 있습니다. 중앙 집중식 VPC는 ​​부서별 VPC, 즉 VPC-Shared 및 VPC-Dept1, VPC-Shared 및 VPC-Dept2와 피어링합니다.
    - VPC-Dept1 내의 인스턴스는 적절한 경로와 보안 그룹이 있는 한 VPC-Shared의 인스턴스와 직접 통신할 수 있으며, 그 반대의 경우도 누가 통신을 시작하는지에 관계없이 가능합니다.
    - default peering bi-directional communication flag 같은건 없다
    - http://docs.aws.amazon.com/AmazonVPC/latest/PeeringGuide/peering-configurations-partial-access.html#one-to-two-vpcs-instances
- 75\. S3버킷과 EC2를 접근할 수 있는 방법은?
    - D. A Public VIF and a Private VIF
- 76\. AWS Config 규칙의 논리를 평가하는 데 사용되는 AWS 서비스는 무엇입니까?
    - Lambda
- 77\. 
    - CustomerGateway는 VPC의 논리적 리소스이다
    - virtual Private Gateway는 항상 VPN의 Endpoint이기때문에 배포가 필요하다
    - AWS only supports IPsec in Tunnel mode ג€" therefore Answer A is required.
    - https://docs.aws.amazon.com/vpn/latest/s2svpn/SetUpVPNConnections.html#vpn-create-cgw
- 78\. 
- 79\. 10.0.0.0/16 네트워크에 대한 백업으로 DX 연결과 VPN 연결이 있습니다.
    -  AWS VPC에 대해 동일한 경로를 광고하는 경우에는 AS 경로 앞에 붙는 것과 상관없이 Direct Connect 경로가 항상 우선 적용됩니다.
    - AWS에서는 VPN 경로를 통한 Direct Connect 연결을 항상 선호합니다.
- 80\. VPC들이 피어링되어있는대, 한 VPC로 의도된 트래픽이 다른 VPC로 우회되었음을 발견했습니다.
    - B. 적절한 VPC가 더 높은 CIDR을 갖도록 경로를 조정합니다.
        - high CIDR = smaller subnet을 의미. 더 높은 구체적인 CIDR이 우선순위가 높습니다
- 81\.
    - B. 새 VPC 내에서 가상 사설 게이트웨이인 고객 게이트웨이를 배포하고 BGP 동적 라우팅을 사용하여 새 IPsec VPN 연결을 설정합니다.
    - VGW를 통해 점보프레임을 지원하지않는다
- 82\. 피크 시간에 1~2Gbps 사이의 지속적인 트래픽을 나타내는 기록 데이터가 걱정됩니다. 내결함성이 있음을 보장
    - B. 3개의 1Gbps Direct Connect 연결을 배포합니다.
    - 하나가 고장나도 나머지 2개로 대역폭을 견딜 수 있음
- 83\. us-east-1(버지니아 북부)에 동일한 애플리케이션의 또 다른 인스턴스를 즉시 배포해야 합니다. Direct Connect의 특전을 활용해야 합니다. 설계는 면에서 가장 비용 효율적인 옵션이어야 합니다. 성능 및 배포 시간.
    - A. Direct Connect의 리전 간 기능을 사용하여 us-west-2 Direct Connect 위치에서 us-east-1의 새 VPC로 프라이빗 가상 인터페이스를 설정합니다.
    - https://aws.amazon.com/blogs/aws/aws-direct-connect-access-to-multiple-us-regions/
    - https://aws.amazon.com/blogs/networking-and-content-delivery/introducing-aws-direct-connect-sitelink/
    - 질문 중 하나는 배포 시간입니다. AWS에서 검토해야 하기 때문에 공개 VIF를 배포하는 데 시간이 걸립니다.
    - Direct Connect 게이트웨이가 없으면 해당 지역의 VPC에만 액세스할 수 있습니다. 하지만 해당지역은 us입니다
- 84\. 조직의 사설 IP 주소에서 ping을 사용하면 네트워킹 팀이 VPC의 인스턴스에 액세스할 수 없습니다.
    - B. 인스턴스 보안 그룹은 ICMP 트래픽을 허용하지 않습니다.
    - D. 온프레미스 라우터가 올바른 CIDR 범위를 AWS에 알리지 않습니다.
- 85\. ElasticBeanstalk와 Cloudfront는 Alias Record를 생성할 수 있다
    - DynamoDB와 EC2는 Alias Record를 생성할 수 없다
    - https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-choosing-alias-non-alias.html
- 86\. 무결성 검증을 통해 Cloudtrail의 로그파일이 업데이트,삭제, 여부를 확인할 수 있다
- 87\. You must construct a 1000-host subnet in a VPC. Which CIDR format should you use?
    - D. /22
- 88\. 네트워크의 서버와 라우터는 모두 점보 프레임을 지원합니다. AWS 리소스에 액세스하려고 하는데 패킷 손실이 발생
    - 패킷에서 "Do not Fragment" 플래그를 제거하십시오. 플래그가 설정된경우, 1500MTU보다 데이터가 큰경우 삭제처리합니다
    - 1)\. 모든 DX에서 점보 프레임을 지원하진않는다
    - 2)\. 모든 AWS 리소스에서 점보 프레임을 지원하진않는다
    - https://docs.aws.amazon.com/directconnect/latest/UserGuide/set-jumbo-frames-vif.html
    - https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/network_mtu.html
- 89\. PutMetricData API를 활용하여 CloudWatch에 사용자 지정 지표를 제출
    - 요청 크기는 HTTP GET 요청의 경우 8KB, HTTP POST 요청의 경우 40KB로 제한됩니다.
    - https://docs.aws.amazon.com/sdkfornet/latest/apidocs/items/MCloudWatchCloudWatchPutMetricDataPutMetricDataRequestNET35.html
- 90\. AppStream 2.0 집합은 기존 VPC 및 온프레미스 리소스와 상호 작용해야 합니다. VPC는 AWS Direct Connect에서 제공하는 프라이빗 가상 인터페이스를 사용하여 온프레미스 환경에 연결됩니다.
    - 기존 VPC에 두 개의 서브넷을 배포합니다. 사용자가 AppStream 엔드포인트에 액세스할 수 있도록 Direct Connect 연결에 공용 가상 인터페이스 추가
    - ttps://docs.aws.amazon.com/appstream2/latest/developerguide/appstream2-port-requirements-appstream2.html
- 91\. VPC에서 14개 호스트 서브넷을 구성해야 합니다. 당신은 매우 큰 사업을 운영하기 때문에 가능한 한 정확해야 합니다. 어떤 CIDR 형식을 사용해야 합니까?
    - /27 입니다. 왜냐하면 AWS는 5개(0,1,2,3 그리고 마지막IP)를 예약하기때문입니다. 그래서 32개중에서 5개를 제외한 27개를 사용할 수 있습니다. 만약 /28을 사용할경우 16개에서 5개를 제외한 11개의 호스트 서브넷만을 이용할 수 있습니다.
- 92\. 네트워크 엔지니어는 Amazon Route 53을 사용하여 프라이빗 호스팅 영역을 설정했습니다. 엔지니어는 영역 내부의 인스턴스와 관련된 레코드 세트에 대한 상태 확인을 설정해야 합니다. 엔지니어는 어떻게 사양을 만족합니까?
    - C. EC2 StatusCheckFailed 지표의 상태를 확인하는 CloudWatch 지표를 생성하고, 지표에 경보를 추가한 다음, 경보 상태를 기반으로 하는 상태 확인을 생성합니다.
        - Route 53 상태 검사기는 VPC 외부에 있습니다. IP 주소로 VPC 내 엔드포인트의 상태를 확인하려면 VPC의 인스턴스에 퍼블릭 IP 주소를 할당해야 합니다.
        - https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/dns-failover-private-hosted-zones.html
- 93\. 다음 중 VPC 엔드포인트에 대한 설명으로 옳은것은?
    - D. S3 엔드포인트를 통해 Amazon AMI가 일부 소프트웨어를 설치할 수 있습니다.
        - A. 엔드포인트는 Direct Connect 연결에 대해 전이적입니다.
            - DX와 S3 간에 EC2 프록시를 사용할 수 있다
        - B. 엔드포인트는 VPC 외부로 확장할 수 없습니다.
            - VPC에서 DX로 확장가능하다
        - C. 끝점에 태그를 지정할 수 없습니다.
            - 엔드포인트 게이트웨이는 지정할 수 있다
- 94\. 배치 그룹에 관한 다음 설명 중 옳지 않은 것은?
    - A. 배치 그룹은 단일 AZ에 있는 인스턴스의 논리적 그룹입니다.
    - 분산 배치 그룹은 동일한 리전의 여러 가용 영역에 걸쳐 있을 수 있습니다. 그룹당 가용 영역당 최대 7개의 인스턴스를 실행할 수 있습니다.
    - https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/placement-groups.html#placement-groups-spread
- 95\. 전송 속도가 VPC 내부와 외부 모두에서 가능한 한 낮은지 확인하려고 합니다. MTU 구성이 걱정됩니다. 최대 호환성을 달성하려면 T2 인스턴스를 어떻게 구성해야 합니까?
    - C. 두 개의 ENI를 구성합니다. 하나는 내부 트래픽용이고 다른 하나는 외부 트래픽용입니다. MTU가 1500인 외부 ENI와 MTU가 9001인 내부 ENI를 구성합니다.
    - VPC 내부에서 점보 프레임을 사용하고 VPC 외부로 향하는 트래픽을 느리게 하지 않으려면 경로별로 MTU 크기를 구성하거나 MTU 크기와 경로가 다른 여러 탄력적 네트워크 인터페이스를 사용할 수 있습니다.
    - https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/network_mtu.html
- 96\. 
- 97\. VPC에는 두 개의 Autoscaling 그룹이 있습니다. 하나는 웹사이트의 인덱스를 호스팅하기 위해 서버를 설치하고 다른 하나는 웹사이트의 이미지를 수용하기 위해 서버를 배포합니다.
    - "/"로 향하는 트래픽을 대상 그룹 1로, "/*.jpg"로 향하는 트래픽을 대상 그룹 2로 라우팅하는 경로 기반 라우팅 규칙을 만듭니다. 두 개의 대상 그룹을 만들고 각 Autoscaling 그룹과 연결합니다. 경로기반 라우팅을 사용해야되기때문에 ALB를 사용합니다.
- 98\. VPC에는 두 개의 배치 그룹이 있습니다. 두 배치 그룹 간의 연락은 얼마나 빨리 예상됩니까?
    - 배치그룹 외부와 5Gbps가 최대이다
    - https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-network-bandwidth.html
- 99\. 회사 방화벽을 통해 모든 외부 트래픽을 명시적으로 화이트리스트에 추가해야 합니다. 보안 팀은 이 액세스 권한을 어떻게 부여합니까?
    - B. ip-ranges.json에서 IP 접두사 목록을 가져와 방화벽 규칙에서 해당 접두사를 사용합니다.
- 100\. 사이트 방문자가 사이트에 액세스하면 깨진 이미지 링크가 표시됩니다. 문제의 가장 가능성 있는 원인은 무엇입니까?
    - 버킷정책이 공개엑세스를 허용하지않을테니, Cloudfront 용 Origin Access ID를 생성하고, 버킷에 추가해야한다. 
- 101\. 
    - A. AWS Direct Connect에서 퍼블릭 가상 인터페이스를 프로비저닝하고 각 VPC에 VPN을 설정합니다.
    - C. 각 VPC에 대해 VPC 흐름 로그를 활성화합니다.
- 102\.
    - 부하 테스트 결과에 따르면 다양한 가용 영역에 고르게 분산된 최대 100대의 서버에서 최대 수요를 처리할 수 있습니다. 네트워크 엔지니어는 /24 CIDR이 할당된 VPC를 생성해야 합니다. 엔지니어는 3개의 가용 영역에서 각 계층의 서브넷을 어떻게 할당해야 합니까?
        - Network Load Balancer: 서브넷당 /28 웹: 서브넷당 /26
            - 100/3=34 이므로 예약IP 5개를 더하면 39개를 만족해야한다. 
            - 따라서 private 서브넷은 /26이다.
            - NLB용 public subnet의 최소값은 /28입니다.
- 103\. 응용 프로그램은 높은 전송 속도를 요구합니다. 우수한 오디오 및 시각적 전송을 보장하려면 최소 지연이 필요합니다. 다음 중 전송 품질을 높이는 것은 무엇입니까?
    - A. 향상된 네트워킹 활성화
        - SR-IOV(Single Root - I/O virtualization)는 기존의 가상화된 네트워크 인터페이스와 비교할 때 더 높은 I/O 성능과 더 낮은 CPU 사용률을 제공하는 장치 가상화 방법입니다.
        - T2 인스턴스를 제외한 모든 현재 세대 인스턴스 유형은 향상된 네트워킹을 지원합니다.
        - https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/enhanced-networking.html
- 104\. How many tunnels are included with each AWS-hosted VPN connection?
    - HA를 위해 2개의 터널이 있다.
- 105\. 탄력적 IP 주소에 대한 다음 설명 중 옳지 않은 것은?
    - B. EIP가 인스턴스와 연결되면 일치시키려면 호스트 이름을 수동으로 변경해야 합니다.
        - 자동으로 변경된다.
        - EIP는 분리시에도 비용이 부과된다. EIP를 연결하면, 기존 공인IP는 해제되며 EIP를 추가로 연결하면 비용이 추가로 발생한다.
- 106\. 기업은 원격 사용자가 AWS 클라우드에서 호스팅되는 회사 리소스에 액세스할 수 있도록 해야 합니다. 조직에는 VPC 피어링을 통해 연결된 두 개의 가상 사설 클라우드(VPC)가 있습니다. 원격 사용자는 랩톱 컴퓨터를 통해 두 VPC의 리소스에 안전하게 연결할 수 있어야 합니다. 조직은 비용이나 노력을 증가시키는 액세스 제어 시스템을 사용하는 데 관심이 없습니다.
    - D. 하나의 VPC에 AWS Client VPN 엔드포인트를 배포하고 서브넷을 연결하고 대상 네트워크를 정의합니다. 대상 VPC에 대한 클라이언트 액세스 권한을 부여하는 규칙을 추가하고 피어링된 VPC에 대한 클라이언트 액세스 권한 부여 규칙을 추가합니다. 서브넷 연결에 대한 보안 그룹의 트래픽을 허용하도록 두 VPC의 리소스 보안 그룹을 업데이트합니다.
    - https://docs.aws.amazon.com/vpn/latest/clientvpn-admin/scenario-peered.html
- 107\. 웹 애플리케이션 개발을 담당하는 팀은 200개의 임의 IP 주소에서 발생하는 악의적인 행동에 대해 우려하고 있습니다. 이러한 위협의 보안과 확장성을 보장하는 단계는 무엇입니까?
    - C. AWS WAF를 사용하여 IP 주소를 차단합니다.
        - 무작위 IP 이므로 NACL에 기록할 수 없다
        - AWS WAF는 웹 어플리케이션 방화벽으로 제공되는 관리형서비스이다
- 108\. 귀하는 유럽 고객이 유럽 내 위치에 관계없이 가능한 가장 낮은 지연 시간을 즐기면서도 미국 고객과 동일한 사용자 경험과 성능을 제공하도록 보장하도록 지시받았습니다. 또한 비용을 절감하기 위해 두 국가가 동일한 URL을 사용하여 사이트에 액세스하도록 보장하라는 지시를 받았습니다.
    - C. 트래픽 흐름 정책 생성기를 사용하여 완벽한 라우팅 정책을 만듭니다.
    - D. S3 버킷에서 정적 콘텐츠를 제공하는 CloudFront 배포를 생성합니다.
        - A. No, VPC and ELB can't route traffic base on the region
        - B. Not satisfied the demand that US and EU using the same URL
        - 지리 근접 라우팅 정책은 트래픽 흐름을 사용하는 경우에만 사용할 수 있습니다.
        - https://docs.aws.amazon.com/Route53/latest/ DeveloperGuide/traffic-flow.html
- 109\. Amazon WorkSpaces를 배포할 계획이며 네트워크 구성이 필요합니다. 이 기준을 충족하려면 무엇을 설정해야 합니까?
    - A. 서로 다른 가용 영역에 있는 두 개 이상의 서브넷.
        - WorkSpaces는 인터넷에 액세스할 수 있어야 합니다.
        - WorkSpaces용 프라이빗 서브넷 2개와 퍼블릭 서브넷의 NAT 게이트웨이가 있는 VPC를 생성할 수 있습니다.
        - WorkSpaces에 대해 2개의 퍼블릭 서브넷이 있는 VPC를 생성하고 탄력적 IP 주소를 각 WorkSpace에 연결할 수 있습니다.
        - https://docs.aws.amazon.com/workspaces/latest/adminguide/amazon-workspaces-vpc.html
- 110\. Which of the following is not necessary while configuring a VIF?
    - D. BGP MED
        - BGP MED는 VIP 생성이 아닌 트래픽 조절에 사용된다.
        - BGP KEY와 VLAN ID, BGP ASN(1-2147483647)을 입력해야한다.
        - https://docs.aws.amazon.com/directconnect/latest/UserGuide/create-vif.html
- 111\. 비즈니스 네트워크의 라우팅 데이터베이스에는 624개의 고유한 RFC 1918과 공용 IP 접두사가 있습니다. 두 가지 AWS Direct Connect 연결을 사용할 수 있습니다. 이 문제를 해결하고 AWS Management 콘솔에서 프라이빗 가상 인터페이스를 사용할 수 있도록 하려면 어떻게 해야 합니까?
    - C. Change the BGP advertisements from the corporate network to only be a default route.
        - Aggregate your routes advertised from on-premises!
        - I have experienced practically that if the amount of advertised prefixes exceed 100, virtual interface goes down.
        - By default, AWS only accepts up to 100 prefixes using a BGP session on AWS Direct Connect.
        - https://aws.amazon.com/premiumsupport/knowledge-center/troubleshoot-bgp-dx/
        - https://aws.amazon.com/ko/premiumsupport/knowledge-center/virtual-interface-bgp-down/
- 112\. 클라이언트 측 스마트 카드 저장 인증서를 통한 SSL 상호 인증이 필요한 가상 사설 클라우드에서 웹 애플리케이션을 구현하고 있습니다. 클라이언트와 애플리케이션 간의 상호 인증은 ELB Classic Load Balancer 리스너에서 지원해야 합니다. 이 애플리케이션에 어떤 로드 밸런싱 프로토콜을 사용해야 합니까?
    - D. TCP
        - EC2 인스턴스가 검증을 처리할 수 있도록 포트 443에서 표준 TCP로 전달해야 합니다.
        - AWS ELB는 상호 인증을 지원하지 않습니다. 따라서 트래픽을 통과해야 합니다.
- 113\. 하이브리드 아키텍처가 있고 자체 DNS 서버를 사용하여 10.1.3.0/24 서브넷에 EC2 인스턴스를 설정했습니다. 이 서브넷은 VPC 10.1.0.0/16에 있습니다. 데이터 센터는 자체 호스팅 영역 내에서 Route 53 요청을 해결할 수 있어야 합니다.
    - C. 프라이빗 호스팅 영역에 대한 쿼리를 10.1.0.2로 전달하도록 DNS 서버를 구성합니다.
        - Phase 1 : On Prem DNS to the EC2 Instance Based DNS
        - Phase 2 : EC2 Instance Based DNS to the Amazon DNS (aka Route 53 Resolver)
        - 10.1.3.2 는 DNS 서버가 아니다. DNS서버는 VPC 서브넷의 2번째 주소이다
- 114\. 애플리케이션 소유자는 새로운 요구 사항을 추가했습니다. DHCP를 통해 검색된 도메인 이름은 현재 단일 서브넷에 있는 특정 인스턴스 집합에 대해 고유해야 합니다.
    - D. 새 피어링된 VPC를 생성하고 다른 도메인 이름으로 DHCP 옵션 세트를 구성한 다음 필요한 인스턴스를 다시 시작합니다.
        - DHCP 옵션 세트를 생성한 후에는 수정할 수 없습니다.
        - VPC가 다른 DHCP 옵션 세트를 사용하도록 하려면,    새 세트를 생성하여 VPC와 연결해야 합니다.
        - 서브넷별로 DHCP를 변경할수없다.
        - DHCP 옵션 세트는 VPC에만 연결할 수 있고 특정 서브넷에는 연결할 수 없습니다.
        - https://docs.aws.amazon.com/vpc/latest/userguide/VPC_DHCP_Options.html
- 115\. 153개의 고유한 IP 접두사가 있는 내부 라우팅 테이블을 사용하여 전세계 비즈니스 네트워크를 운영하고 있습니다. AWS Direct Connect(IGW)를 통해 인터넷 게이트웨이가 장착된 VPC에 대한 프라이빗 가상 인터페이스를 생성합니다.
    - B. 접두사 발표를 100개 미만으로 요약
- 116\. AWS가 연결에 동일한 Direct Connect 라우터를 사용하지 않도록 하기로 결정합니다. 응용 프로그램의 요구 사항을 충족하려면 가능한 가장 높은 수준의 복원력을 제공해야 합니다.
    - A. Install a second 10-Gbps Direct Connect connection to the same Direct Connection location.
    - E. Install a second 10-Gbps Direct Connect connection to a second Direct Connect location for eu-central-1.
        - direct connect location은 리전별로 여러개가있을 수 있다
        - 복원력을 위해 다른 지역에 DX/VPN을 만드는 것은 완전히 무의미합니다.
        - https://aws.amazon.com/pt/directconnect/resiliency-recommendation/
- 117\. 다음 중 LAG에 대한 설명으로 옳지 않은 것은?
    - B. 여러 속도로 연결을 풀링하여 하나의 더 빠른 속도를 만들 수 있습니다.
        - LAG가 작동하려면 모든 링크의 속도가 같아야 합니다.
        - LAG는 동일한 DX의 endpoint를 가져야하며, 1G/10G/100G의 선으로 연결되지만 100G는 2개, 100G미만은 4개까지 구성이가능하다
- 118\. You're using the CLI to configure interfaces with multiple IP addresses. The procedure is unsuccessful.
        - C. One or more of the IP addresses could not be assigned.
        - 명령줄 도구 또는 API를 사용하여 네트워크 인터페이스에 여러 IP 주소를 할당할 때 IP 주소 중 하나를 할당할 수 없으면 전체 작업이 실패합니다
        - https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/MultipleIP.html#assignIP-launch-cmd
- 119\. 1,000개의 데스크톱 Amazon WorkSpaces 배포를 처리하기 위한 아키텍처가 개발 중입니다. 현재 배포를 지원하면서 어떤 아키텍처가 미래의 성장을 허용합니까?
    - B. VPC with a /20 CIDR and two /21 subnets
        - 각 데스크톱에는 기본 네트워크 인터페이스(eth1)와 관리 네트워크 인터페이스(eth0)라는 두 개의 NIC가 필요합니다. 두 개의 서브넷이 필요합니다.
        - 작업 공간에는 두 개의 AZ에 두 개의 서브넷이 필요하므로 B와 D만 고려할 수 있습니다.
        - https://docs.aws.amazon.com/workspaces/latest/adminguide/amazon-workspaces.html
- 120\. 기본적으로 모든 AWS 계정은 공용(IPv4) 인터넷 주소가 부족하기 때문에 ____EIP로 제한됩니다.
    - A. 5
    - http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html
- 121\. 기업은 AWS VPC와 온프레미스 네트워크 간에 VPN 연결을 설정해야 합니다. 라우터의 방화벽 제약으로 인해 터널을 설정할 수 없습니다.
    - A. UDP port 500 = IPSec
    - B. IP Protocol 50 = ESP (Encap Security Payload=보안페이로드 캡슐화)
        - https://docs.aws.amazon.com/vpn/latest/s2svpn/your-cgw.html
        - IP Protocol 1 = ICMP
        - IP Protocol 6 = TCP
        - IP Protocol 17 = UDP
- 122\. 웹 사이트는 Amazon CloudFront를 사용하여 사용자에게 동적 콘텐츠를 제공합니다. 사용자가 인스턴스 유지 관리 후 웹 사이트에 액세스하려고 하는 동안 HTTP 502(Bad Gateway) 문제가 표시됩니다.
    - B. 오리진은 CloudFront와의 SSL/TLS 교환에서 암호 또는 프로토콜을 지원하지 않습니다.
        - https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/http-502-bad-gateway.html
            - HTTP 503 상태 코드(Service Unavailable)
                - 리소스 제약으로 오리진 서버에 클라이언트의 요청을 수용할 수 있는 용량이 충분하지않음
            - HTTP 504 상태 코드(Gateway Timeout))
                - 방화벽이나 보안 그룹에 의해 오리진에 대한 트래픽이 차단되거나 인터넷에서 오리진에 액세스할 수 없는 경우
            - https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/troubleshooting-response-errors.html
- 123\. \*\*\* 하이브리드 환경을 실행 중이고 온프레미스 DNS 도메인을 확인하려면 AWS 리소스가 필요합니다. 서브넷 10.1.3.0/24의 Amazon EC2 인스턴스에 DNS 서버를 설정했습니다. 이 서브넷은 VPC 10.1.0.0/16에 있습니다. 이를 달성하기 위해 추구해야 할 최선의 조치는 무엇입니까?
    - B. EC2 DNS 서버를 가리키도록 VPC에 설정된 DHCP 옵션을 구성합니다
        - DNS 서버가 쿼리를 온프레미스 DNS로 전달합니다. 인스턴스가 VPC DNS 대신 온프레미스 DNS로 쿼리를 전달하도록 DHCP 옵션 세트를 구성해야 합니다.
- 124\. 한 기업이 테이프 백업 시스템에서 스토리지 게이트웨이로 업그레이드하고 있습니다. 현재 AWS에 연결되어 있지 않습니다. 사전 테스트를 수행하는 것이 필요합니다. 빠르고 저렴하게 시작하고 실행하기 위해 회사는 어떤 연결 방법을 사용해야 합니까?
    - A. 인터넷 연결을 사용하십시오.
        - 스토리지 게이트웨이는 기본적으로 TLS를 쓰기때문에 암호화된다.
- 125\. company.private, emea.company.private, apac.company.private, amer.company.private 4개의 사이트에 대해서 각 지리적 영역에 대해 하나씩 이러한 VPC에 있는 서비스에서 활용해야 합니다.
    - A. 4개 영역 각각에 대해 Route 53 프라이빗 호스팅 영역을 생성하고 이를 3개의 VPC와 연결합니다.
        - 1 구역으로 만들어서 하는 것은 관리에 좋지않다
- 126\. 자체 VPC를 구성했습니다. 인스턴스에 SSH연결을 위해 필요한것은?
    - 인스턴스에서 ssh는 기본으로 활성화되어있으며, NAT Gateway는 out traffic에만 적용된다
        - C. Enable Public IP addresses
        - D. Attach an Internet Gateway
- 127\. Which two elements are needed for all Amazon Web Services VPNs? (Select two.)
    - A. VGW(Virtual Private Gateway)
    - D. Customer Gateway
- 128\. AWS Config 구성 스트림 내부에 포함된 데이터를 평가하기 위한 모범 사례로 간주되는 엔드포인트는 무엇입니까?
    - C. SQS
        - Simple Queue Service는 AWS Config 주제(구성 스트림)를 구독할 수 있으며 구성 스트림 내의 데이터에 대해 고가용성 및 분리된 환경을 제공합니다.
- 129\. 프로덕션 VPC와 회사 사설 네트워크 간의 보안 연결이 필요합니다. 서비스 품질(QoS)은 온프레미스 생명과학 비즈니스 애플리케이션과 클라우드 기반 숫자 처리 서버 사이에서 실시간 데이터가 끊임없이 앞뒤로 전송되기 때문에 이 연결을 위해 하루 24시간, 일주일 내내 매우 중요합니다.
    - D. 기존 서비스 공급자의 데이터 센터와 클라우드 컴퓨팅 리소스가 있는 AWS 리전 간에 Direct Connect 연결을 프로비저닝합니다. 가상 프라이빗 게이트웨이 및 프라이빗 가상 인터페이스 구성
        - VPN을 사용하면 인터넷을 거치게되는데, 인터넷 연결은 QoS를 보장할 수 없다. 성능변동이 있을 수 있다
        - https://docs.aws.amazon.com/whitepapers/latest/aws-vpc-connectivity-options/aws-direct-connect-vpn.html
- 130\. 다른 시간대의 고객으로부터 직장에 도착하기 몇 시간 전에 웹사이트가 다운되었다는 불만을 받았습니다. 어떤 일이 발생했는지 결정하는 데 중요한 두 가지 AWS 서비스는 무엇입니까? (2개를 선택하세요.)
    - B. Cloudtrail, 누가 언제 무엇을 변경했을가
    - C. CloudWatch, 리소스에 대한 경보 트리거가 있었을가

- 131\. skip
- 132\. skip
- 133\. 그러나 모든 브라우저 연결은 최근 'X-Cache: Error from cloudfront' 헤더와 함께 HTTP 502 잘못된 게이트웨이 오류를 표시하기 시작했습니다. 모니터링 서비스는 기존 웹 애플리케이션의 HTTPS 포트 443이 액세스 가능하고 요청을 수락함을 나타냅니다.
    - D. 기존 웹 응용 프로그램 서버의 SSL 인증서가 만료되었습니다. 웹 서버의 SSL 인증서를 세계적으로 인정되는 인증 기관(CA)에서 서명한 인증서로 교체합니다. 레거시 웹 응용 프로그램 서버에 전체 인증서 체인을 설치합니다
        - 오리진 서버가 다음을 반환하면 CloudFront는 TCP 연결을 끊고 HTTP 상태 코드 502(잘못된 게이트웨이)를 반환하고 X-Cache헤더를 Error from cloudfront다음 으로 설정합니다.
- 134\. 고객은 수요가 많을 때 서비스에 액세스할 수 없다고 보고합니다. 네트워크 엔지니어가 인스턴스를 수동으로 시작하려고 하면 '서브넷 '서브넷-12345678'에 사용 가능한 주소가 부족하여 원하는 수의 인스턴스를 지원할 수 없습니다.'
    - B. VPC 보조 IPv4 CIDR을 사용하여 새 서브넷을 만들고 IPv6 CIDR을 연결합니다. Auto Scaling 그룹에 새 서브넷을 포함합니다.
        - 서브넷 CDIR을 수정할 수 없으므로 새 IPv4를 만들고 새 IPv4를 기존 IPv6에 연결한 다음 그룹에 추가해야 합니다.
        - 새 IPv4를 기존 IPv6에 연결한 다음 그룹에 추가해야 합니다.
- 135\. 하나는 Intel 네트워크 인터페이스가 장착되어 있고 다른 하나는 ENA가 장착되어 있습니다. 둘 사이의 네트워크는 얼마나 빠를까요?
    - A. 10Gbps
        - Intel 82599 가상 기능 인터페이스는 지원되는 인스턴스 유형에 대해 최대 10Gbps의 네트워크 속도를 지원합니다.
        - 탄력적 네트워크 어댑터(ENA)는 지원되는 인스턴스 유형에 대해 최대 100Gbps의 네트워크 속도를 지원합니다.
- 136\. 엔지니어는 Amazon 퍼블릭 엔드포인트에 대한 액세스 권한을 얻기 위해 Direct Connect 연결 간에 활성/수동 라우팅을 생성하려고 합니다. 온프레미스에 있는 장비에는 어떤 BGP 설정이 필요합니까? (2개를 선택하세요.)
    - A. Local Pref를 사용하여 아웃바운드 트래픽을 제어합니다.
    - E. 하나의 Direct Connect 연결을 통해 보다 구체적인 접두사를 광고합니다.
- 137\. 인스턴스의 모든 네트워크 활동(ACCEPT/REJECT)이 계층 7 프로토콜 수준에서 기록되는지 확인해야 합니다.
    - A. VPC 수준의 CloudWatch Logs
        - CloudWatch Logs를 사용하여 로그 데이터를 사용하여 애플리케이션과 시스템을 모니터링할 수 있습니다.
- 138\. 
    - B. AWS Lambda@Edge 를 사용하는 Amazon CloudFront
    - E. AWS 키 관리 서비스
        - cloudfront는 KMS를 사용하여 필드 수준 암호화를 수행할 수 있다
        - cloudfront는 필드 수준 암호화는 CloudFront HTTPS에 다른 보안 계층을 추가하여 고객 전화번호와 같은 민감한 데이터를 보호하는 데 도움이 됩니다.
            - https://aws.amazon.com/blogs/security/how-to-enhance-the-security-of-sensitive-customer-data-by-using-amazon-cloudfront-field-level-encryption/
- 139\. 조직에서 AWS WorkSpaces 무료 평가판에 가입했습니다. Active Directory를 통한 인증을 계속 지원하면서 가능한 한 최소한의 노력과 가격으로 설치하려고 합니다.
    - A. VPN 연결을 만듭니다.
    - B. AD 커넥터 만들기
        - https://aws.amazon.com/ko/blogs/security/how-to-connect-your-on-premises-active-directory-to-aws-using-ad-connector/
- 140\. NAT 게이트웨이는 Git 리포지토리에 액세스할 수 있지만 프라이빗 서브넷의 인스턴스는 액세스할 수 없습니다. 
    - B. Git 리포지토리에 대한 애플리케이션 서버 인스턴스 보안 그룹에 대한 아웃바운드 규칙을 구성합니다.

- 141\. 귀하의 비즈니스는 두 개의 DX 사이트를 운영하고 있습니다. 하나의 연결은 수동으로 구성해야 합니다. 해당 연결을 수동 링크로 만들려면 라우터에서 어떤 설정을 해야 합니까?
    - B. 링크에 추가된 AS_PATH를 구성합니다.
        - AS_PATH 추가 구성은 AWS에서 Direct Connect를 사용하여 능동-수동 구성을 구성하기 위해 선호하는 방법입니다.
            - https://aws.amazon.com/ko/premiumsupport/knowledge-center/active-passive-direct-connect/
- 142\. 조직은 nginx 서버/RDS에서 Elastic Load Balancing(ELB) 로드 밸런서/PHP를 사용하여 여러 가용 영역에서 HTTPS 애플리케이션을 운영합니다. 동적 콘텐츠를 생성하려면 지리적 제한을 적용하고 애플리케이션에서 클라이언트의 IP 주소를 지정해야 합니다.
    - A. X-Forwarded-For에 값을 기록하도록 nginx 로그 구성을 수정하고 CloudFront를 사용하여 지리적 제한을 적용합니다.
        - https://aws.amazon.com/ko/premiumsupport/knowledge-center/elb-capture-client-ip-addresses/
        - 웹 서버에 Elastic Load Balancing(ELB)을 사용 중이며 웹 서버 액세스 로그에서 로드 밸런서의 IP 주소를 볼 수 있습니다. 이 IP 주소 대신 클라이언트 IP 주소를 캡처하려면 어떻게 해야 합니까? HTTP Header의 X-Forwarded-For의 기록된 클라이언트 IP를 사용합니다.
        - Cloudfront의 설정을 통해 지리적제한을 할 수 있다
- 143\. 라우터에게 패킷을 전달할 위치를 알려주기 위해 MPLS 네트워크에서 패킷에 부여되는 레이블의 이름은 무엇입니까?
    - C. FEC (Forward Equivalency Class), 라우터가 패킷을 보낼 위치를 아는 방법
- 144\. 귀하의 비즈니스에는 클라우드 기반 AD 데이터 호스팅을 위한 저렴한 솔루션이 필요합니다. AD의 모든 기능이 필요한 것은 아니지만 WorkSpaces와 함께 사용할 수 있는 기능은 필요합니다.
    - C. SimpleAD
        - AD 커넥터는 온프레미스 AD를 AWS AD와 동기화/연결하는 데 사용되며 하이브리드 AD 용도로 사용됩니다.
- 145\. Simple AD 도메인을 배포했으며 이를 활용하여 Microsoft Exchange 이메일 서버를 관리하려고 합니다. AD 서버를 찾는 데 어려움이 있는 이유는 무엇입니까?
    - C. Simple AD는 완전한 Active Directory 서버가 아니며 많은 MS 제품에서 작동하지 않습니다.
        - https://aws.amazon.com/ko/quickstart/architecture/exchange/

- 146\. 부서는 워크로드를 위한 가상 사설 클라우드(VPC)를 개발했습니다. 이 VPC에 대한 AWS Direct Connect의 프라이빗 가상 인터페이스는 엔터프라이즈 네트워크에 대한 기본 경로를 제공합니다. 부서에서 새 VPC의 Amazon EC2 인스턴스에서 데이터를 다운로드할 때 적용되는 비용은 무엇입니까?
    - D. The department pays AWS Direct Connect Data Out charges.
        - 프라이빗 가상 인터페이스의 경우 데이터 전송을 담당하는 AWS 리소스를 소유한 AWS 계정에 요금이 부과됩니다.
- 147\. PCI DSS(Payment Card Industry Data Security Standard) 애플리케이션은 온프레미스 SSL 어플라이언스 및 Apache에서 Amazon CloudFront 뒤의 VPC로 마이그레이션됩니다. 이 요구 사항에 맞게 CloudFront를 어떻게 구성해야 합니까?
    - A. CloudFront 캐시 동작을 구성하여 HTTPS를 요구하고 CloudFront Origin™의 프로토콜 정책을 "Match Viewer"로 구성합니다.
        - Match Viewer의 경우 Viewer가 HTTPS 요청을 하면, CloudFront도 HTTPs로 Origin에 요청한다
            - https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/using-https-cloudfront-to-custom-origin.html
- 148\. You want a sub-1G connection to AWS in order to save money. How are you going to do this?
    - D. Contact an AWS partner(APN), AWS does not provide sub-1G connection speeds.
        - if you want a Transit Gateway Interface, you can't
        - https://aws.amazon.com/ko/premiumsupport/knowledge-center/direct-connect-types/
- 149\. VPC "A"에는 IP 주소 범위가 10.111.2.101에서 10.111.2.112인 서버 12개로 구성된 클러스터가 있습니다. 그들의 VPC "B"에는 10.111.2.171과 10.111.2.190 사이에 20대의 서버가 있습니다.
두 VPC 모두 172.31.0.0/16 VPC "C"를 통해 액세스해야 합니다. 이 문제를 해결하기 위한 가장 효과적인 전략은 무엇입니까?
    - A. VPC C에서 피어링 연결을 생성하고 10.111.2.96/27에 대한 VPC A의 피어링 연결에 대한 경로와 10.111.2.0/24에 대한 VPC B의 피어링 연결에 대한 경로를 추가합니다.
        - 동일한 CIDR 블록을 가진 VPC를 세 번째 VPC와 피어링할 수 있으므로 CIDR 블록을 변경할 필요가 없습니다.
- 150\. 사용자가 해당 데이터를 CloudWatch에 제출하기를 원합니다. 임의성으로 인해 이벤트가 일정 기간 동안 데이터를 생성하지 않을 수 있습니다.
    - C . 데이터가 없는 기간 동안 사용자는 값을 0으로 보내야 합니다.
- 151\. 보안 규정으로 인해 VPC와 온프레미스 데이터 센터 간의 모든 통신은 암호화되어야 합니다. 또한 신뢰성을 유지하려고 합니다.
    - B. A VPN connection
    - D. A Direct Connect connection with a Public VIF
        - VPN Over DirectConnect with PublicVIF
- 152\. 엔지니어는 ifconfig eth0 명령 결과에 공용 IP 주소가 포함되어 있지 않음을 확인합니다. 퍼블릭 서브넷에는 AWS Management 콘솔의 인터넷 게이트웨이에 대한 경로가 있습니다. 또한 인스턴스에는 공용 IP 주소가 있습니다.
    - D. Evaluate the security groups and the network access control list.
        - 기본 VPC에서 인스턴스를 시작하면 기본적으로 퍼블릭 IP 주소가 할당됩니다.
        - 기본적으로 기본이 아닌 서브넷에서 시작된 인스턴스에는 퍼블릭 IP 주소를 할당하지 않습니다.
        - 공개 IPv4 주소는 콘솔에 네트워크 인터페이스의 속성으로 표시되지만 NAT를 통해 기본 비공개 IPv4 주소에 매핑됩니다. 따라서 인스턴스에서 네트워크 인터페이스의 속성을 검사하면 예를 들어 ifconfig(Linux) 또는 ipconfig(Windows)를 통해 퍼블릭 IPv4 주소가 표시되지 않습니다. 인스턴스에서 인스턴스의 퍼블릭 IPv4 주소를 확인하려면 인스턴스 메타데이터를 사용하십시오
        - https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html
- 153\. You have installed the default NACL rules. In this circumstance, the ONLY priority is to halt the onslaught. Which of the following two commands should you use?
    - B. aws ec2 delete-network-acl-entry -network-acl-id acl-5fb84d47 -egress rule-number 100
    - C. aws ec2 delete-network-acl-entry -network-acl-id acl-5fb84d47 -ingress rule-number 100
        - Default NACL Inbound and Outbound as below
            - 100 All traffic All All 0.0.0.0/0 Allow
            - * All traffic All All 0.0.0.0/0 Deny
- 154\. skip
- 155\. 기밀성을 유지하기 위해 적절한 IPsec 설정 선택에 대해 아래에서 올바른 설명을 선택하십시오.
    - B. The following protocols may be used to configure IPsec confidentiality, DES, 3DES, AES
        - 기밀성은 암호화이다
        - PSK(Pre Shared Key)와 RSA(리베스트/샤미르/애들먼)는 키 교환
        - MD5와 SHA는 해싱 프로토콜
- 156\. skip, maybe ipv6 ???
- 157\. 귀사는 2개의 데이터 센터에 걸쳐 있는 고가용성 Direct Connect 시스템을 구현했습니다. 각 데이터 센터는 4개의 연결 LAG와 단일 일반 DX 연결로 시작되었습니다. 이 설정을 위해 얼마나 많은 LOA 서류를 찾고 완료했습니까?
    - D. 10
        - 각각의 새로운 물리적 연결에 대한 LOA-CFA를 다운받을 수 있다.
        - https://docs.aws.amazon.com/directconnect/latest/UserGuide/lags.html
- 158\. 인스턴스가 연결된 서브넷, 보안 그룹 및 VPC를 식별해야 합니다. 연결된 관리자 역할이 있는 경우에만 인스턴스의 터미널에 액세스할 수 있습니다. 명령의 어떤 구성요소를 먼저 사용하시겠습니까?
    - B. aws ec2 describe-instances
        - 콘솔들어가지않고도 인스턴스와 연결된 SG, VPC, Subnet 확인이 가능하군아
- 159\. If a resource breaches any condition of an AWS Config rule that it assesses on the resource, AWS Config marks it as .
    - B. noncompliant(비준수)
- 160\. You are setting a CloudFront distribution and notice that your SSL is not mentioned when you attempt to connect it. What is the most probable explanation for this?
    - C. You requested an SSL for the wrong region.
        - CloudFront와 사용자 지정 오리진 간의 통신에 HTTPS가 필요한 경우 사용자 지정 오리진에서 SSL/TLS 인증서를 사용할 수도 있습니다.
        - SSL/TLS 인증서를 사용하도록 Amazon CloudFront 배포를 구성하고 싶습니다.
            - 미국 버지니아 동부로 인증서를 가져옵니다
            - AWS Certificate Manager에 대한 권한이 누락됬습니다
            - 키의 길이가 2048 비트를 초과했습니다
        - https://aws.amazon.com/ko/premiumsupport/knowledge-center/install-ssl-cloudfront/
- 161\. 기업은 CIDR 블록 10.5.0.0/22를 사용하여 가상 사설 클라우드(VPC)에서 서비스를 실행합니다. 최종 사용자는 일부 VPC 서브넷의 IP 주소가 부족하여 추가 리소스를 제공할 수 없다고 말합니다.
    - D. 10.5.4.0/22를 두 번째 CIDR 블록으로 VPC에 추가합니다. 새 CIDR 블록으로 새 서브넷을 만들고 새 서브넷에서 새 리소스를 프로비저닝합니다.
        - 1\. 10.5.4.0/22 는 10.5.0.0/22 의 다음으로 사용가능한 서브넷
        - 2\. 기존 서브넷에 새 서브넷을 할당할 수 없고, 새 서브넷을 만드는 점
- 162\. 회사는 사내 DNS 서버를 사용하여 내부 도메인 company.com의 이름을 확인합니다. 회사는 Amazon Route 53 프라이빗 호스팅 영역인 aws.company.com을 사용하여 AWS 리소스 레코드를 확인합니다.
회사의 가상 사설 클라우드(VPC) 내 Amazon EC2에서 실행되는 새 애플리케이션은 company.com 도메인 및 기타 AWS 리소스의 레코드를 확인해야 합니다.
    - B. VPC의 각 서브넷에 Route 53 Resolver 아웃바운드 엔드포인트를 생성합니다. 온프레미스 DNS 서버를 가리키는 company.com에 대해 규칙 유형이 Forward인 Route 53 전달 규칙을 구성합니다. aws.company.com에 대해 규칙 유형이 System인 Route 53 전달 규칙을 구성합니다.
        - https://aws.amazon.com/es/blogs/architecture/using-route-53-private-hosted-zones-for-cross-account-multi-region-architectures/
- 163\. 조직에 DX 연결이 있고 DX 연결을 연결한 새 VPC 및 Private VIF를 생성했습니다. 일관성을 보장하기 위해 다른 VPC에서 구성을 복제했습니다. 새 VIF가 조인되면 두 VPC 모두에 연결 문제가 발생하기 시작했습니다. 각 VPC에 대해 동일한 CIDR을 사용하고 있지 않음을 확인했는데 문제가 될 수 있는 것은 무엇입니까?
    - DX 하나에 privateVIF 2개를 쓰는데, 하나는 다른 VPC 구성에서 복사해서 가져옴. 중복되는 문제는?
        - A. 두 연결 모두에 동일한 VLAN ID를 사용했습니다.
- 164\. 이 회사는 프라이빗 가상 인터페이스(VIF)와 회사의 온프레미스 데이터 센터에 대한 VPN 링크로 구성된 AWS Direct Connect 연결을 개발했습니다. VPC에서 발생하는 트래픽에 대해 원하는 BGP 경로 선택 순서는 MOST에서 LEAST로 어떻게 됩니까?
    - C. 가장 긴 접두사 일치, 고정 경로, Direct-Connect BGP 경로, VPN BGP 경로.
    - https://docs.aws.amazon.com/vpn/latest/s2svpn/VPNRoutingTypes.html#vpn-route-priority
- 165\. 사용자 지정 지표는 애플리케이션과 동일한 AWS 리전의 Amazon CloudWatch에 게시해야 합니다. 측정값에는 기밀 데이터가 포함되어 있습니다. 모든 통신은 비밀 IP 주소를 통해 수행되어야 합니다.
    - D. 인터페이스 엔드포인트를 통해 CloudWatch에 연결합니다.
    - https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/cloudwatch-logs-and-interface-VPC.html
- 166\. 직장 네트워크 PC에서 www.amazon.com에 대해 192.168.10.5의 DNS 서버에 요청합니다. 쿼리가 성공하고 예상한 결과를 제공합니다. 'server.awscloud.internal'에 대한 쿼리 시간이 초과되었습니다. 응답을 받지 못할 것입니다. 'server.awscloud.internal'에 대한 성공적인 쿼리는 어떻게 활성화해야 합니까?
    - B. enableDnsHostnames 및 enableDnsSupport에 대한 VPC 설정을 True로 구성합니다.
        - 해당 서브넷의 dns 서버로 192.168.0.2를 활성화합니다
        - PHZ(Privated Hosted Zone)는 Route 53에서 호스팅
- 167\. 조직의 회사 웹 사이트는 www.acme.com 및 acme.com을 통해 액세스할 수 있어야 합니다. 이 요구 사항에 맞게 Amazon Route 53을 어떻게 구성해야 합니까?
    - A. ELB를 대상으로 하는 ALIAS 레코드로 acme.com을 구성합니다. ELB를 대상으로 하는 ALIAS 레코드가 있는 www.acme.com.
        - CNAME은 사용 시 비용발생
        - example.com에 대한 CNAME 레코드를 생성할 수 없지만 www.example.com에 트래픽을 라우팅하는 example.com에 대한 별칭 레코드를 생성할 수 있습니다(www.example.com에 아직 CNAME 레코드가 없는 한 )
        - https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resource-record-sets-choosing-alias-non-alias.html
- 168\. *** 이 비즈니스는 개발자가 CloudFormation 템플릿을 사용하여 앱을 빌드할 수 있도록 하여 액세스 가능한 CIDR 범위를 사용하여 서브넷을 생성할 수 있기를 희망합니다.
    - C. 서브넷 리소스 내에서 Fn::Cidr 내장 함수를 참조하는 CloudFormation 템플릿을 생성하여 사용 가능한 CIDR 범위를 선택합니다.
        - https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-cidr.html
- 169\. 두 개의 VPC에 대한 피어링 액세스 권한이 있습니다. VPC A가 VPC 인스턴스에 도달하도록 경로를 설정했습니다. ping을 사용하여 인스턴스에 연결할 수 없습니다. 보안 그룹과 NACL이 올바른지 확인했습니다.(ICMP 허용)
    - A. You forgot to add a return route.
    - Routes need to be added in both VPCs, one route to and one route back.
- 170\. RTMP 에 대한 쿠키를 처리하도록 CloudFront를 구성할 수 없습니다.
    - 웹 배포의 경우 CloudFront는 기본적으로 엣지 로케이션에서 객체를 캐싱할 때 쿠키를 고려하지 않습니다. 오리진이 두 개의 객체를 반환하고 Set-Cookie 헤더의 값만 다른 경우 CloudFront는 객체의 한 버전만 캐시합니다.
    - RTMP는 HTTP가 아니며 쿠키가 없습니다.
- 171\. 비즈니스의 재정적 성공은 주로 고객의 데이터 세트를 정렬할 수 있는 속도에 달려 있습니다. 정렬된 결과를 빨리 제공할수록 좋습니다. 아래 표시된 옵션 중에서 비즈니스에 가장 큰 재정적 수익을 가져다 줄 이상적인 네트워크 디자인을 선택하십시오.
    - B. 점보 프레임을 활성화하여 인스턴스 간 데이터 처리량 향상
- 172\. 조직의 현재 네트워크 아키텍처가 확장됩니다. 완료되면 11개의 AWS 계정에 99개의 VPC가 배포됩니다(계정당 9개의 VPC).
이제 각각 고유한 VIF(가상 네트워크 인터페이스)가 있는 9개의 가상 사설 클라우드(VPC)가 있는 단일 계정에 대한 AWS Direct Connect 연결이 있습니다.
다음 중 조직을 성장시키면서 비용을 절감할 수 있는 개념은 무엇입니까?
- 173\. AWS Direct Link를 통해 Amazon EC2 및 Amazon S3와 같은 퍼블릭 AWS 제품에 연결하는 데 필요한 단계는 무엇인가?
    - A. BGP(Border Gateway Protocol) 세션마다 공용 IP 주소(/31)를 제공합니다.
    - C. BGP(Border Gateway Protocol)를 통해 광고할 공개 경로를 제공합니다.
    - D. 귀하가 소유하고 있는 공개 ASN(자율 시스템 번호) 또는 인터넷에서 귀하의 네트워크를 식별할 수 있는 개인 번호를 제공하십시오.
- 174\. CloudFront가 애플리케이션을 제공한다는 사실에도 불구하고 외부 기관이 애플리케이션의 오리진 IP 주소에 액세스하여 이후 오리진을 공격할 수 있다는 두려움이 있습니다. 다음 중 원산지를 가장 잘 보호하는 옵션은 무엇입니까?
    - B. 사용자 지정 헤더를 사용하도록 CloudFront를 구성하고 해당 헤더가 포함된 트래픽만 수락하도록 오리진의 Application Load Balancer에 대한 AWS WAF 규칙을 구성합니다.
        - OAI는 S3용
- 175\. 이 작업은 50분에서 600분 또는 그 이상이 소요될 수 있습니다. 사용자는 절차가 완료된 경우에만 인스턴스를 종료할 수 있는 설정을 원합니다.
사용자는 이를 위해 CloudWatch를 어떻게 설정합니까?
    - D. CPU 사용률이 5% 미만으로 떨어지면 인스턴스를 종료하도록 CloudWatch 작업을 구성합니다 .
- 176\.
    - B. 귀하의 NACL은 포트 1024, 65535 아웃바운드를 허용하지않습니다
    - 임시포트 1024, 65535 는 리턴트래픽을 위해 아웃바운드가 필요합니다.
- 177\.  S3 버킷은 EC2 인스턴스와 동일한 AWS 리전에 저장됩니다. 조직은 이 버킷에 대한 액세스를 애플리케이션이 있는 VPC로 제한하려고 합니다.
    - B. 애플리케이션이 있는 VPC에 S3 VPC 엔드포인트를 배포합니다. VPC 엔드포인트에서만 액세스를 허용하는 조건으로 S3 버킷 정책을 구성합니다.
- 178\. 사이트 방문자가 사이트에 액세스하면 깨진 이미지 링크가 표시됩니다. CloudFront가 cdn.yourdomain.com을 활용하도록 설정되어 있음을 알고 있습니다. 사용자가 이미지를 볼 수 없는 가장 가능성 있는 원인은 무엇입니까?
    - B. CloudFront용 오리진 액세스 ID를 생성하고 이를 버킷 정책에 추가해야 합니다.
- 179\. 다음 중 합법적인 Route 53 레코드가 아닌 것은 무엇입니까?
    - D. BFD
    - BFD는 양방향 포워딩 감지(Bi-directional Forwarding Detection)의 약자이며 Route 53과 관련이 없습니다.
    - https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/ResourceRecordTypes.html
- 180\. 비즈니스에서는 온프레미스에서 파트너가 제어하는 ​​VPC로 트래픽을 라우팅해야 합니다. 링크는 가능한 최저 비용으로 최저 지연 시간을 가져야 합니다. 연결을 위해 다음 중 무엇을 선택해야 합니까?
    - C. 새 프라이빗 가상 인터페이스를 생성하고 기존 연결을 활용하여 파트너 VPC에 연결합니다.
        - VPC 피어링을 통해 파트너VPC에는 접근할 수 없다. VPC피어링은 전이적이지않기때문이다
- 181\. ***
- 182\. *** 다음 중 AWS Direct Connect에서 AWS Direct Connect 라우터에 연결하도록 라우터를 설정하는 방법에 대한 설명으로 옳지 않은 것은 무엇입니까?
    - B. 교차 연결 단계를 완료한 후 라우터 구성을 위한 다운로드 링크를 사용할 수 있습니다.
    - D. 가상 인터페이스 만들기 단계에서 라우터의 일반 구성을 다운로드할 수 있습니다.
    - A. AWS Direct Connect 연결을 위한 가상 인터페이스를 생성한 후 사용 가능한 링크에서 라우터 구성 파일을 다운로드할 수 있습니다.
        - AWS Direct Connect를 사용하려면 AWS Direct Connect 연결을 위한 가상 인터페이스를 생성한 후 라우터 구성 파일을 다운로드하면 됩니다.
        - https://docs.aws.amazon.com/directconnect/latest/UserGuide/create-vif.html#vif-router-config
- 183\.  You established the records, and as a result, no other nations are able to visit your site.
    - A. You forgot to set a default geolocation record.
        - 기본 레코드를 생성하지 않으면 Route 53은 해당 위치의 쿼리에 대해 "무응답" 응답을 반환합니다.
- 184\. 회사에서 프로젝트를 일시 중단하고 30개의 퍼블릭 EC2 인스턴스를 종료했습니다. 이러한 인스턴스는 인스턴스 스토어 볼륨을 사용하며 맞춤형 AMI는 포함하지 않습니다. 월 단위로 계속 청구됩니다.
    - B. 해당 인스턴스와 연결된 탄력적 IP가 있습니다.
- 185\. 사용자는 초당 1000개의 레코드를 수집합니다. 사용자가 사용자 지정 네임스페이스를 사용하여 CloudWatch에 데이터를 제출하려고 합니다. 
    - A. Min, Max, Average, Sum, Sample 데이터 등의 통계 데이터를 집계하여 CloudWatch로 전송
    - http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/publishingMetrics.html
- 186\. 밑에거와 동일
- 187\. 클라이언트는 개발, 테스트, 프로덕션 및 관리를 위해 많은 가상 사설 클라우드(VPC)를 생성했습니다. AWS Direct Connect는 온프레미스에서 각 VPC로의 데이터 전송을 용이하게 하도록 구성되어야 합니다. 재정적 제약으로 인해 데이터 전송 요금은 최소한으로 유지되어야 합니다.
    - D. 총 4개의 프라이빗 VIF를 생성하고 모든 VPC 간에 VPC 피어링을 활성화합니다.
        - Private virtual interface should not be transitive.
- 188\. 당신은 여러 기업을 인수하고 그들의 가상 사설 클라우드를 당신의 네트워크에 통합하는 책임이 있는 지주 회사입니다. 서브넷이 동일하거나 겹치는 네트워크에 정기적으로 직면하게 됩니다.
    - VRF 또는 가상 라우팅 및 포워딩을 사용하면 라우터에 여러 라우팅 테이블을 가질 수 있습니다.
- 189\. ***
    - B. AWS 리전 간에 IPsec VPN을 생성하고, 프라이빗 IP 주소를 사용하여 트래픽을 라우팅하고, 다른 리전의 VPC CIDR에 해당하는 클러스터 보안 그룹 CIDR 기반 규칙을 생성합니다.
        - https://docs.aws.amazon.com/devicefarm/latest/developerguide/amazon-vpc-cross-region.html
- 190\. 네트워크 엔지니어는 조직의 네트워크 및 보안 기준을 준수하기 위해 VPC 형성을 자동화해야 합니다. 또한 각 VPC의 CIDR 범위는 고유해야 합니다.
    - A. AWS CloudFormation을 사용하여 VPC 인프라와 사용자 지정 리소스를 배포하여 외부 IPAM(IP 주소 관리) 서비스에서 CIDR 범위를 요청합니다.
- 191\. *** 마이그레이션 프로세스 중에 조직에서 애플리케이션 코드를 수정할 수 있어야 합니다. 하나의 응용 프로그램은 웹 표시 계층, 응용 프로그램 계층 및 데이터베이스 계층을 포함하는 고전적인 의미의 3계층 응용 프로그램입니다. 외부 호출 클라이언트 앱은 세션이 처음에 연결하는 웹 및 애플리케이션 노드 모두에 지속되어야 합니다.
어떤 로드 밸런싱 방법이 웹 및 애플리케이션 레이어를 수평적으로 독립적으로 성장시킬 수 있습니까?
    - B. 웹 및 애플리케이션 계층 모두에서 Application Load Balancer를 사용하여 두 계층의 대상 그룹 수준에서 세션 고정성을 설정합니다.
        - duration-based stickness
        - application-based stickness
- 192\. 많은 Amazon Glacier 볼트를 모니터링하려고 합니다. 그 금고를 어떻게 감시할 겁니까?
    - A. 사용자 지정 AWS Config 규칙을 생성합니다.
        - 현재 AWS Config는 Amazon Glacier의 리소스를 기록하지않는다
- 193\. skip 
- 194\. *** 다음 중 AWS Direct Connect 가상 인터페이스를 구성한 후 수행할 수 없는 것은 무엇입니까?
    - B. 가상 인터페이스의 지역을 변경할 수 있습니다.
- 195\. 조직은 Amazon Route 53을 활용하여 퍼블릭 호스팅 영역의 DNS를 관리합니다. 모든 DNS 요청은 향후에 기록 및 분석되어야 합니다.
    - C. Route 53 쿼리 로깅을 사용하여 Route 53이 수신하는 쿼리에 대한 정보를 Amazon CloudWatch Logs에 기록합니다.
        - https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/logging-monitoring.html
- 196\. AWS CloudTrail may be set to_____ log data from various accounts and regions into a single bucket.
    - A. aggregate 
- 197\. skip 
- 198\. 이 서버에 연결하려면 www.yourname.com, ftp.yourname.com 및 mail.yourname.com URL을 사용해야 합니다. IP 주소를 변경하면 가능한 한 추가 수정이 최소화되도록 보장하려고 합니다.
    - B. 서버의 IP 주소를 가리키는 A 레코드를 만들고 www, ftp 및 mail에 대한 CNAME 레코드를 만들고 A 레코드를 가리킵니다.
        - 3개의 CNAME 레코드와 1개의 A 레코드가 있으면 IP가 변경되는 경우에만 A 레코드를 변경하면 됩니다.
- 199\. skip
- 200\. 버킷은 프라이빗 서브넷의 Amazon EC2 인스턴스에서만 액세스할 수 있어야 합니다. 프라이빗 서브넷의 EC2 인스턴스에서 Amazon S3 액세스를 허용하려면 어떻게 해야 합니까?
    - B. S3 버킷 정책에 VPC-E 식별자를 추가합니다.
        - A. Cannot add private CIDR to S3 bucket policy.
- 201\. 이제 동적 BGP 전파 경로 데이터베이스에 99개의 경로가 있으며 10.1.0.0 및 10.3.0.0이라는 두 개의 경로를 더 추가하려고 합니다.
    - A. 두 개의 경로를 요약하여 하나로 결합하여 광고합니다.
        - 접두사 목록은 동일한 CIDR 또는 더 작은 CIDR을 Direct Connect 게이트웨이에 보급할 수 있도록 하는 필터 역할을 합니다.
- 202\. Amazon VPC 애플리케이션 서버를 위한 네트워크 아키텍처를 구축 중입니다. 모든 애플리케이션 인스턴스는 인터넷과 온프레미스 네트워크를 통해 액세스할 수 있습니다. 온프레미스 네트워크는 AWS Direct Connect 연결을 사용하여 가상 사설 클라우드에 연결됩니다. 이러한 요구 사항을 충족하려면 라우팅을 어떻게 설계해야 합니까?
    - D. IGW를 통해 기본 경로로 단일 라우팅 테이블을 구성합니다. AWS Direct Connect 고객 라우터에서 BGP를 통해 온프레미스 네트워크에 대한 특정 경로를 전파합니다. 라우팅 테이블을 모든 VPC 서브넷과 연결합니다.
        - 하나의 라우팅 테이블에 2개의 기본 경로를 가질 수 없기 때문에 A는 올바르지 않습니다
        - 서브넷은 한 번에 하나의 라우팅 테이블에만 연결할 수 있으므로 B는 올바르지 않습니다. 
        - C는 BGP를 통해 기본 경로를 알리는 것이 의미가 없기 때문에 올바르지 않습니다. 
- 203\. 기업의 여러 AWS 계정에서 다양한 앱이 VPC에서 작동하고 있습니다. 네트워크 엔지니어는 중앙 VPC를 생성하고 모든 애플리케이션 VPC의 VGW에 대한 동적 라우팅으로 IPSec 터널을 작동하는 한 쌍의 소프트웨어 VPN 인스턴스로 구성했습니다. 이 중앙 VPC는 ​​Direct Connect 연결을 사용하여 프라이빗 VIF를 통해 온프레미스 리소스에 연결됩니다.
VPC 내부의 앱이 온프레미스 리소스와 상호 작용하고 사용할 수 있도록 하려면 어떤 추가 설정이 필요합니까?
    - D. 온프레미스 라우터에서 동적 라우팅을 사용하여 소프트웨어 VPN 인스턴스로 IPSec 터널을 구성합니다.
        - 정답은 D입니다. App VPC > 중앙 VPC > VGW > Private VIF > DX Link > LAN/DC에서 경로를 알리는 유일한 방법은 LAN/DC에서 Centeral VPC 및 BGP 라우팅으로 IPSEC VPN을 사용하는 것입니다.
- 204\. 조직은 동적 고해상도 온라인 콘텐츠를 만듭니다. 인터넷 사용자는 스마트폰, 태블릿 및 데스크톱 컴퓨터를 포함한 다양한 장치를 통해 자료에 액세스합니다. 각 플랫폼은 다양한 시청 모드를 고려한 고유한 경험을 제공합니다. 각 플랫폼은 Amazon EC2 인스턴스의 자동 확장 전용 플릿을 활용하여 경로 기반 헤더를 기반으로 콘텐츠를 제공합니다.성능을 최대화하면서 비용을 최소화하는 서비스 조합은 무엇입니까? (2개를 선택하세요.)
    - A. Lambda@Edge 가 있는 Amazon CloudFront
    - E. 애플리케이션 로드 밸런서
- 205\. NTP 서버에 장애가 발생했으며 인스턴스에 추가 NTP 서버를 제공해야 한다는 것을 알게 되었습니다.
운영 인스턴스를 다시 시작하지 않고 정보가 전파되도록 하려면 NTP 서버 업데이트를 어디에 적용해야 합니까?
    - A. DHCP 옵션 설정
        - 새 DHCP 옵션 세트를 VPC와 연결하면 VPC에서 시작하는 기존 인스턴스와 모든 새 인스턴스가 이러한 옵션을 사용합니다. 인스턴스를 다시 시작하거나 다시 시작할 필요가 없습니다.
        - VPC의 디바이스에서 사용하는 DNS 서버, 도메인 이름 또는 NTP(Network Time Protocol) 서버를 제어할 수 있습니다.
- 206\. 네트워크가 192.168.130.130/28인 경우 서브넷당 몇 개의 서브넷과 호스트를 사용할 수 있습니까? (이 질문을 위해 AWS가 5개의 IP 주소를 예약한다는 사실은 무시하십시오)
    - B. 서브넷 16개 또는 서브넷당 호스트 14개
- 207\. 모든 트래픽을 공통 서비스 VPC의 계층 7 프록시로 리디렉션하도록 Amazon EC2 Windows 인스턴스 세트를 생성합니다. 이 서버의 애플리케이션은 올바르게 구성된 AWS Identity and Access Management(IAM) 역할을 통해 Amazon S3와 통신할 수 있어야 합니다. 반면 Amazon S3는 애플리케이션에 403 오류를 전송합니다.
Amazon S3에 대한 액세스를 허용하려면 어떤 절차를 따라야 합니까?
    - B. 인스턴스의 프록시 구성에서 169.254.169.0/24를 제외합니다.
        - https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-proxy.html
        - `export NO_PROXY=169.254.169.254`
        - 연결된 IAM 역할로 시작된 Amazon EC2 인스턴스에서 프록시를 구성하는 경우 인스턴스 메타데이터 에 액세스하는 데 사용되는 주소를 제외해야 합니다.
        - 403은 한 가지만 의미합니다(올바르게 구현된 경우). 자격 증명은 올바르지만 권한이 없습니다. 즉, 인증되었지만 권한이 부여되지 않았습니다.
        - s3 게이트웨이 엔드포인트는 피어링 VPC 간에 공유하지 않으므로 "공용 서비스 VPC"에 엔드포인트를 추가할 의미가 없습니다.
- 208\. Amazon Web Services Elastic Beanstalk에 대한 다음 주장 중 사실인 것은 무엇입니까?
    - A. AWS Elastic Beanstalk는 모니터링 및 경보에 CloudWatch를 사용합니다. 즉, CloudWatch 비용은 사용하는 경보에 대해 AWS 계정에 적용됩니다.
- 209\. 프라이빗 서브넷의 인스턴스에서 NAT 게이트웨이를 통해 특정 대상으로의 TCP 연결 중 일부는 성공하지만 일부가 실패하거나 시간 초과됨 원인 이 문제의 원인은 다음 중 하나일 수 있습니다: 대상 엔드포인트가 단편화된 TCP 패킷으로 응답 NAT 게이트웨이는 TCP 또는 ICMP에 대한 IP 단편화를 지원하지 않습니다. 자세한 내용은 NAT 게이트웨이 비교를 참조하십시오. 및 NAT 인스턴스."
    - A. NAT 게이트웨이는 단편화된 패킷을 지원하지 않습니다.
        - https://docs.aws.amazon.com/vpc/latest/userguide/nat-gateway-troubleshooting.html
- 210\. AWS 리전당 몇 개의 CloudTrail을 생성할 수 있습니까?
    - D. 5
- 211\. 단일 AWS 계정에 대한 API 호출을 기록하고 계정의 로그 파일도 제공하는 AWS 유틸리티는 무엇입니까?
    - A. CloudTrail
- 212\. 조직에서 호스팅된 데스크톱 솔루션의 플랫폼으로 AWS WorkSpaces를 선택했습니다. 귀하의 경영진은 보안, 비용 및 신뢰성에 대해 정말로 걱정하고 있습니다.
    - A. VPN
    - D. AD 커넥터
        - AD 커넥터는 온프레미스 AD를 사용하므로 가장 저렴한 방법입니다.
- 213\. 기존 및 새로 생성된 모든 Amazon S3 버킷에서 앞으로 로깅이 활성화되도록 보장하려고 합니다. 어떤 트리거 유형을 사용해야 합니까?
    - B. only a configuration change trigger
- 214\. 데이터 센터와 VPC 간에 동적 VPN 연결을 설정했습니다. 라우터는 터널이 작동 중이고 BGP가 활성화되어 있음을 나타내지만 어떤 이유로 경로가 전파되지 않습니다. 문제의 가장 가능성 있는 원인은 무엇입니까?
    - D. 경로 테이블에서 경로 전파를 "yes"로 설정하는 것을 잊었습니다.
        - 라우팅 테이블에 BGP가 활성 상태이고 터널이 작동 중이라고 표시되면 방화벽 문제가 없는 것입니다.
- 215\. 이 사이트는 Application Load Balancer, CloudFront, S3 및 기타 몇 가지 AWS 서비스를 사용합니다. 서버에 대한 책임은 전적으로 귀하에게 있으며 AWS 패널 또는 API에 대한 액세스 권한이 없습니다.
웹사이트를 방문하는 IP 주소를 확인해야 합니다.
    - D. 액세스 로그에 "X-Forwarded For"를 추가하고 액세스 로그를 봅니다.
        - X-forwarded-For 헤더는 로드 밸런서의 패킷에 추가됩니다. ALB는 자동으로 수행합니다.
        - X-Forwarded-For: 203.0.113.7 
        - LogFormat "%{X-Forwarded-For}i %h %l %u
        - https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/x-forwarded-headers.html
- 216\. 네트워크 엔지니어는 회사의 온프레미스 방화벽의 인터넷 게이트웨이를 통해 Amazon S3로 들어오고 나가는 모든 트래픽을 금지했습니다. S3 트래픽은 Direct Connect 연결을 통해서만 전송되어야 합니다.
현재 온프레미스 데이터 센터의 누구도 Amazon S3에 액세스할 수 없습니다.
    - C. Direct Connect 연결에서 공용 가상 인터페이스를 구성합니다. Amazon S3로 향하는 트래픽의 기본 다음 홉으로 Direct Connect를 선택하도록 온프레미스 라우팅 테이블을 업데이트합니다.
        - VPN 연결, VPC 피어링 연결, 전송 게이트웨이, AWS Direct Connect 연결 또는 ClassicLink의 반대쪽에 있는 리소스 VPC의 연결은 엔드포인트를 사용하여 엔드포인트 서비스의 리소스와 통신할 수 없습니다."
        - https://aws.amazon.com/premiumsupport/knowledge-center/s3-bucket-access-direct-connect/
        - https://aws.amazon.com/premiumsupport/knowledge-center/public-private-interface-dx/
- 217\. 조직에서 방금 VPC에서 IPv6을 구현했습니다. 모든 인스턴스는 이제 NAT로 설정되지만 IPv6 전용으로 구성된 후에는 IPv6을 통해 인스턴스의 리소스에 액세스할 수 없었습니다.
    - B. Configure an egress-only internet gateway.
    - NAT는 IPv6과 호환되지 않으며 IGW는 인스턴스에 대한 전체 액세스를 허용하지만 좋지 않습니다. 송신 전용 IGW가 최상의 솔루션입니다.
- 218\. Amazon AMI를 사용하여 설치되고 S3 버킷에 데이터를 제출하는 데 필요한 여러 EC2 인스턴스에 대한 책임은 사용자에게 있습니다. 이 데이터는 공용 인터넷을 통해 전송되어서는 안 됩니다. 또한 인스턴스를 업데이트할 수 있어야 합니다. 다음 옵션 중 귀하에게 가장 적합한 솔루션은 무엇입니까?
    - B. S3 엔드포인트
        - 인터넷 없이 인스턴스 업데이트가 가능하므로, NAT가 필요하지않음
        - https://aws.amazon.com/premiumsupport/knowledge-center/ec2-al1-al2-update-yum-without-internet/
- 219\. 금융 기관은 하이브리드 클라우드 전략을 지원하기 위해 안전한 AWS(Amazon Web Services) 네트워크 아키텍처를 개발하고 있습니다. AWS 클라우드에 배포된 시스템은 미션 중요하며 높은 수준의 가용성이 필요합니다. 이 회사는 수백 개의 가상 사설 클라우드가 필요할 것으로 예측합니다. 임시 인스턴스는 주로 DNS 확인에 따라 달라집니다.
가용 영역 간의 격리를 유지하고 가용 영역의 손실을 견딜 수 있도록 애플리케이션을 구축해야 합니다.
이 시나리오에서 가장 책임감 있는 DNS 구현 방법은 무엇입니까?
    - B. 프라이빗 호스팅 영역을 생성하고 각 VPC와 공유합니다. 하이브리드 DNS에 Amazon Route 53 Resolver를 사용하십시오.
        - 모든 VPC는 ​​프라이빗 영역을 공유합니다. Route 53 해석기는 하이브리드 DNS에 대한 가장 책임 있는 방법입니다.
- 220\. 고유한 도메인에서 실행되는 두 개의 공개 앱이 있으며, 각 앱은 두 개의 프런트 엔드 서버와 두 개의 백 엔드 서버를 사용합니다. 두 앱 모두 가용성이 높기를 원합니다. 구성해야 하는 두 가지 선택 사항은 무엇입니까? (2개를 선택하세요.)
    - A. Route 53: 2개의 퍼블릭 영역과 2개의 프라이빗 영역.
    - D. 4개의 로드 밸런서: 2개의 공용 및 2개의 내부.
        - Route 53: 공개 영역 2개와 비공개 영역 2개, 로드 밸런서 4개: 공개 영역 2개와 내부 영역 2개. 이렇게 하면 하나의 도메인이 두 개의 애플리케이션 서버에 대해 균형을 이룰 수 있으며 트래픽은 두 개의 백엔드 서버로 균형이 맞춰집니다.
- 221\. *** Which course of action will be taken first?
- 222\. VPC 마법사를 사용하여 사용자는 프라이빗 서브넷과 VPN 연결만으로 CIDR 20.0.0.0/16으로 VPC를 구성했습니다. 사용자가 프라이빗 서브넷에 있는 인스턴스에 SSH 연결을 설정하려고 합니다. 사용자는 SSH 보안 규칙을 어떻게 제공해야 합니까?
    - C. 사용자 네트워크에서 포트 22의 인바운드 트래픽 허용
- 223\. 조직에서 Amazon VPC 인스턴스에 대한 온프레미스 연결을 설정하도록 AWS Direct Connect를 구성했습니다. 두 개의 고유한 Direct Connect 사이트가 두 개의 서로 다른 Direct Connect 연결에 대한 종료 지점 역할을 합니다. 결국 R1과 R2(각 Direct Connect 연결 중 하나)라는 두 개의 라우터가 있습니다. R1과 R2는 연결되어 있지 않습니다. 두 라우터 모두 BGP를 통해 동일한 라우터를 VGW에 게시합니다. 각 라우터에는 상태 저장 방화벽이 장착되어 있습니다. 라우터는 VPC에서 트래픽의 일부를 걸러냅니다.
    - A. R1에서 VGW로 라우터를 알리는 동안 BGP AS prepend 속성을 사용하여 추가 AS 번호를 추가합니다.
    - D. BGP MED 속성을 사용하여 R1이 VGW에 알린 경로에 더 높은 MED 값을 할당합니다.
        - Internal BGP (IBGP) sessions use a metric called the local preference
        - 여기에 제시된 질문은 Active-Active 비대칭 라우팅입니다. 주요 관심사는 Stateful 방화벽으로 인해 VPC에서 반환되는 트래픽이 삭제된다는 것
        - https://aws.amazon.com/blogs/networking-and-content-delivery/creating-active-passive-bgp-connections-over-aws
- 224\. 계정에 비정상적인 요금이 청구된 후 AWS 인프라 감사를 수행하고 있습니다. AWS Config를 사용하여 구성 변경 사항을 추적합니다.
    - C. 변경의 eventId를 사용하고 CloudTrail과 함께 참조하여 범인을 찾습니다.
- 225\. What are two reasons for a server to have numerous IP addresses or interfaces?
    - A. You can host multiple SSLs
    - B. Create management networks
        - AWS에서는 여러 I/F를 바인딩한다고 해서 속도가 빨라지지않는다
- 226\. What are the two routing strategies that Route 53 employs? (Select two.)
    - B. Failover
    - C. Latency
- 227\. 기업에서 Elastic Load Balancing을 사용하여 웹이 아닌 애플리케이션을 배포하고 있습니다. 모든 대상은 AWS Direct Connect를 사용하여 액세스할 수 있는 온프레미스 서버입니다. 조직은 응용 프로그램을 사용하는 고객의 소스 IP 주소가 프로그램의 최종 서버까지 전송되는지 확인하려고 합니다. 이 요구 사항은 어떻게 충족됩니까?
    - C. Network Load Balancer를 사용하고 ProxyProtocol 속성을 활성화합니다.
        - Proxy Protocol v2는 TCP 패킷 헤더에 소스 IP를 추가하는 NLB의 옵션입니다. 이는 서버가 온프레미스에 있고 ALB가 소스 IP 보존을 수행하지 않기 때문에 관련이 있습니다.
        - https://docs.aws.amazon.com/elasticloadbalancing/latest/network/load-balancer-target-groups.html#proxy-protocol
        - Network Load Balancer
            - TCP & TLS: the source IP of the client isn’t preserved, enable Proxy Protocol
            - UDP & TCP_UDP: the source IP of the client is preserved
- 228\. 관리자는 탄력적 IP를 프로덕션 인스턴스에 할당해야 한다고 결정합니다. 이 작업을 수행하면 웹 사이트 URL에 대한 액세스 권한이 손실됩니다.
    - A. 원래 IP 주소는 탄력적 IP가 할당될 때 AWS로 다시 릴리스되었습니다.
        - 새로운 인터페이스에 추가하지않는이상, EIP를 할당하면 원래 IP는 사라지며 AWS로 반환된다
- 229\. Direct Connect 사이트에서 Direct Connect 연결을 종료하기 위한 클라이언트 라우터의 요구 사항을 고려해야 합니다.
고객 라우터를 선택할 때 지원해야 하는 세 가지 측면은 무엇입니까?
    - A. 802.1Q VLAN encapsulation
    - D. BGP
    - E. single-mode optical fiber connectivity
- 230\. 이 기업에는 두 개의 웹 앱이 있으며 이를 별도의 분리된 가상 사설 클라우드(VPC)에서 호스팅하려고 합니다. 애플리케이션 인스턴스 간에 요청을 분산하려면 Elastic Load Balancing을 사용해야 합니다.
보안상의 이유로 인터넷 게이트웨이는 애플리케이션 VPC에 연결하면 안 됩니다. 애플리케이션의 수신 HTTP 요청은 중앙 집중식 VPC를 통해 라우팅되어야 하며 애플리케이션의 VPC는 ​​다른 인바운드 트래픽에 노출되어서는 안 됩니다. 애플리케이션 VPC는 ​​아웃바운드 연결을 시작할 수 없습니다.
    - D. 별도의 VPC에서 사설 NLB(Network Load Balancer) 뒤에서 애플리케이션을 실행합니다. 중앙 집중식 VPC에서 연결된 VPC 엔드포인트가 있는 AWS PrivateLink 엔드포인트 서비스로 각 NLB를 구성합니다. 각 끝점의 사설 IP 주소를 포함하는 대상 그룹을 만듭니다. 중앙 집중식 VPC에서 공용 ALB(Application Load Balancer)를 생성합니다. ALB를 통해 애플리케이션 트래픽을 해당 대상 그룹으로 라우팅하도록 호스트 기반 라우팅을 구성합니다.
        - public을 향하고 있는 ELB는 ALB여야 하므로 A&B를 제거한다.
        - NLB의 사설 DNS 이름에 대한 대상 그룹을 생성할 수 없습니다. ALB는 DNS 이름을 대상으로 지원하지 않으므로 C가 답이 될 수 없음을 확인하는 것 같습니다.
        - NLBs can't have DNS names as target group, needs lambda service to do that
- 231\. 조직에서 IPv4에서 IPv6으로 마이그레이션할 준비를 하고 있지만 공용 네트워크의 인스턴스에 공용 IPv6 주소를 할당할 때 보안에 미치는 영향에 대해 우려하고 있습니다. 이제 NAT를 사용하여 아웃바운드 트래픽을 허용합니다. 업데이트에는 아웃바운드 트래픽이 필요합니다.
    - A. Remove any rules allowing ::/0 inbound in the security group.
    - C. Create an egress-only internet gateway.
        - outbound connection을 유지하고, return traffic을 받되, 외부에서 접근은 못하게설정
        - 0.0.0.0/0은 IPv4만 차단하고 NACL에서 ::/0을 차단하면 반환 트래픽과 인스턴스 업데이트가 차단됩니다.
- 232\. skip
- 233\. OSI 및 TCP/IP 모델에 대한 이해를 바탕으로 다음 설명 중 옳지 않은 것을 선택하십시오.
    - A. TCP/IP 응용 프로그램 계층은 2개의 OSI 계층에 매핑됩니다
        - OSI 모델은 7레이어 모델입니다. TCP/IP 모델은 4계층 모델입니다.
        - TCP/IP 응용 프로그램 계층은 상위 3개 OSI 계층(응용 프로그램, 프레젠테이션 및 세션 계층)에 매핑됩니다.
- 234\. VPN 터널에 대해 능동/수동 HA를 구현할 때 두 가지 실행 가능한 구성 옵션이 있습니다. (2개를 선택하세요.)
    - B. Configure AS_PATH prepending on one of the paths.
    - D. Configure MED on one of the tunnels.
        - 두 터널이 동일한 AS PATH 값을 갖도록 AS Path 사전 추가를 피하는 것이 좋습니다.
        - AS PATH 값이 같으면 VPN 터널 엔드포인트 업데이트 중에 AWS가 터널에 설정하는 MED 값에 따라 터널 우선 순위가 결정됩니다.
        - https://aws.amazon.com/ko/premiumsupport/knowledge-center/vpn-configure-tunnel-preference/
- 235\. 부적절하게 구성된 웹 사이트의 대량 요청으로 인해 단일 애플리케이션 서버의 성능이 저하되고 있음을 발견했습니다. 나머지 요청은 부정적인 영향을 주지 않고 모든 서버에 고르게 분산됩니다. 문제를 수정하고 재발을 방지하려면 어떤 조치를 취해야 합니까?
    - C. ELB에서 애플리케이션 서버로 포트 80만 허용하도록 보안 그룹을 업데이트합니다.
        - 이것은 서버가 ELB의 웹 트래픽만 허용해야 한다는 자체 설명적인 설명입니다.
        - ALB에서 ec2 인스턴스로의 액세스를 제외한 모든 액세스를 방지할 수 있습니다.
        - NACL은 서브넷 수준에서 작동하므로 다른 EC2가 해당 서브넷에서 작동하지 못하게 할 수 있습니다. 보안 그룹은 애플리케이션에만 영향을 미칩니다.
- 236\. 컴퓨팅 팀이 AWS(Amazon Web Services)에서 HPC(고성능 컴퓨팅) 애플리케이션을 호스팅할지 여부를 결정하고 있습니다. 팀은 애플리케이션 성능에 대해 걱정하고 있으며 다양한 네트워킹 성능 향상 대안에 대해 배우고 싶어합니다.
    - C. Enable an MTU of 9001 in the application's operating system.
    - D. Enable enhanced networking on the instances.
        - VPC에서 MTU를 조절할 수 없고, 인스턴스를 쪼갠다고 해서 성능이 늘어나지않고, 클러스터 배치그룹은 단일AZ에 있어야한다.
        - 현재 SR-IOV(단일 루트 I/O 가상화)를 사용하여 향상된 네트워킹 기능을 지원
        - https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/network_mtu.html
        - https://aws.amazon.com/ko/getting-started/hands-on/hpc/3/
- 237\. 기업의 IT 보안 팀은 Amazon VPC 내부의 모든 서버가 5개의 허용된 외부 IP 주소 목록에만 연결할 수 있도록 보장해야 합니다. 또한 팀은 승인되지 않은 끝점과의 연결을 설정하려고 시도하는 서버가 있는 경우 알림을 받기를 원합니다.
이러한 요구 사항을 충족하는 측면에서 가장 비용 효율적인 접근 방식은 무엇입니까?
    - C. 애플리케이션 서버 서브넷의 네트워크 ACL에 허용된 IP를 추가합니다. 필터를 REJECT로 설정하여 VPC 흐름 로그를 활성화합니다. 모든 이벤트의 로그 그룹에 대해 Amazon CloudWatch Logs 필터를 설정합니다. 이 지표에 대한 경보를 생성하여 보안 팀에 알립니다
        - REJECT VPC 흐름 로그만 캡처하므로 비용 효율적입니다.
- 238\. us-west-1 리전과 ap-southeast-2 리전에 각각 가상 사설 클라우드(VPC)를 유지 관리합니다. 데이터 센터에서 us-east-1 리전까지 네트워크 엔지니어는 AWS Direct Connect 링크를 설정했습니다. Direct Connect 게이트웨이를 참조하는 프라이빗 가상 인터페이스(VIF)를 구축하고 이를 두 VPC의 가상 프라이빗 게이트웨이에 연결합니다. 구성이 완료되면 엔지니어는 us-west-1에서 ap-southeast-2를 통해 리소스에 연결할 수 없습니다.
    - C. ap-southeast-2와 us-west-2의 VPC 간에 VPC 피어링 연결을 설정합니다. 라우팅 테이블에 서브넷 범위를 추가합니다.
        - Direct Connect 게이트웨이는 TransitGW가 아닌 한 VGW에 연결할 때 전이적이지 않습니다.
        - Direct Connect 게이트웨이는 전이적이지 않습니다.
- 239\. 거짓 또는 참: VPC는 ​​각각 여러 가용 영역에 걸쳐 있을 수 있는 수많은 서브넷으로 구성됩니다.
    - 나. 이것은 거짓입니다.
    - VPC는 ​​여러 가용 영역에 걸쳐 있을 수 있습니다. 반대로 서브넷은 단일 가용 영역 내에 있어야 합니다.
- 240\. 회사는 최종 사용자의 트래픽이 최종 사용자와 지리적으로 가장 가까운 지역으로 라우팅되도록 요구합니다. 리전에서 유지 관리가 진행되면 최종 사용자가 연결로 사용하는 IP 주소를 변경하지 않고 트래픽을 다음으로 가장 가까운 리전으로 라우팅해야 합니다.
    - D. 모든 리전 앞에 AWS Global Accelerator를 구성합니다.
        - AWS Global Accelerator 가 제공하는 고정 IP 주소는 고객의 단일 고정 진입점 역할을 합니다.
        - 고정 IP 주소는 사용자와 가장 가까운 엣지 로케이션에서 AWS 글로벌 네트워크로 들어오는 트래픽을 허용합니다.
- 241\. 인스턴스에 문제 없이 소프트웨어를 다운로드할 수 있었습니다. 이 웹 사이트는 IPv6을 사용하여 구현되지만 일반 대중은 액세스할 수 없습니다.
    - C. ::/0에 대해 포트 80에서 인바운드 트래픽을 허용하는 인바운드 규칙을 보안 그룹에 추가합니다.
        - 소프트웨어를 다운받을 수 있으므로, IGW는 있음
- 244\. 모든 반환 트래픽의 성공을 보장하기 위해 NACL을 통해 어떤 포트 범위를 허용해야 합니까?
    - A. 1024 ~ 65535는 전체 "임시포트" 범위이다
    - 포트 0에서 1024는 항상 관리자용으로 예약되어 있습니다(서버 및 기타용)
- 247\. Amazon VPC는 ​​멀티캐스트 또는 브로드캐스트가 가능합니까?
    - C. 멀티캐스트 yes, 브로드캐스트 No
- 248\. 
    - C. 클라이언트 인스턴스에서 TCP 연결 유지를 구현합니다.
        - NAT 게이트웨이는 각 대상에 대해 최대 55,000개의 동시 연결을 지원합니다.
        - TCP keepalive 네트워크 비활성으로 인한 연결 끊김을 방지합니다.
        - Keeplive는 새로운 연결 설정의 수를 줄입니다.
    - E. 퍼블릭 서브넷에 추가 NAT 게이트웨이를 생성하고 클라이언트 인스턴스를 여러 프라이빗 서브넷으로 분할합니다. 각 서브넷에는 다른 NAT 게이트웨이에 대한 경로가 있습니다.

---

- memo
- 예를 들어 com에 대한 장애 조치 레코드를 구성합니다. 기본 별칭 레코드가 latency.example.com을 가리키고 평가 대상 상태 설정을 활성화합니다. 보조 레코드가 Amazon S3에서 호스팅되는 정적 HTML 유지 관리 페이지를 가리키도록 합니다.
- IPAM : IP 주소관리도구
- 43 ??? 102 ???
- OSI 7 Layer에서 One-to-One Mapping은 불가능하다
- jq -r ???
- RIRs ???

---

###
- Reference : udemy